[
  {
    "description": "  As an admin\n  I want to manage platform configuration via Parameter Store\n  So that I can dynamically adjust pricing, limits, and settings without code changes",
    "elements": [
      {
        "description": "",
        "id": "admin-configuration-management;view-all-configuration-parameters",
        "keyword": "Scenario",
        "line": 9,
        "name": "View all configuration parameters",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as an admin via Cognito",
            "match": {
              "location": "step-definitions/order-management.steps.ts:137"
            },
            "result": {
              "status": "passed",
              "duration": 1198915
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGFkbWluIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 10,
            "name": "I navigate to the admin configuration page",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:9"
            },
            "result": {
              "status": "passed",
              "duration": 83749
            },
            "embeddings": [
              {
                "data": "TmF2aWdhdGluZyB0byAvYWRtaW4vY29uZmln",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 11,
            "name": "I should see all Parameter Store values grouped by category",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:16"
            },
            "result": {
              "status": "passed",
              "duration": 52457
            },
            "embeddings": [
              {
                "data": "UGFyYW1ldGVyIFN0b3JlIHZhbHVlcyBkaXNwbGF5ZWQgZ3JvdXBlZCBieSBjYXRlZ29yeQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 12,
            "name": "I should see the following categories: \"pricing\", \"session\", \"mythology\", \"ai\", \"shipping\"",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:23"
            },
            "result": {
              "status": "passed",
              "duration": 121582
            },
            "embeddings": [
              {
                "data": "Q2F0ZWdvcmllczogcHJpY2luZywgc2Vzc2lvbiwgbXl0aG9sb2d5LCBhaSwgc2hpcHBpbmc=",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "admin-configuration-management;view-pricing-configuration",
        "keyword": "Scenario",
        "line": 14,
        "name": "View pricing configuration",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as an admin via Cognito",
            "match": {
              "location": "step-definitions/order-management.steps.ts:137"
            },
            "result": {
              "status": "passed",
              "duration": 58457
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGFkbWluIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 15,
            "name": "I request the admin config API filtered by pricing",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:37"
            },
            "result": {
              "status": "passed",
              "duration": 47708
            },
            "embeddings": [
              {
                "data": "R0VUIGFkbWluIGNvbmZpZyBBUEkgZmlsdGVyZWQgYnkgcHJpY2luZw==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "Parameter",
                      "Value"
                    ]
                  },
                  {
                    "cells": [
                      "/EpicWeave/pricing/session-fee",
                      "2.00"
                    ]
                  },
                  {
                    "cells": [
                      "/EpicWeave/pricing/custom-tshirt-base",
                      "20.00"
                    ]
                  },
                  {
                    "cells": [
                      "/EpicWeave/pricing/both-placement-surcharge",
                      "5.00"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Then ",
            "line": 16,
            "name": "I should see the following pricing parameters:",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:44"
            },
            "result": {
              "status": "passed",
              "duration": 117415
            },
            "embeddings": [
              {
                "data": "L0VwaWNXZWF2ZS9wcmljaW5nL3Nlc3Npb24tZmVlID0gMi4wMA==",
                "mime_type": "text/plain"
              },
              {
                "data": "L0VwaWNXZWF2ZS9wcmljaW5nL2N1c3RvbS10c2hpcnQtYmFzZSA9IDIwLjAw",
                "mime_type": "text/plain"
              },
              {
                "data": "L0VwaWNXZWF2ZS9wcmljaW5nL2JvdGgtcGxhY2VtZW50LXN1cmNoYXJnZSA9IDUuMDA=",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "admin-configuration-management;update-session-fee",
        "keyword": "Scenario",
        "line": 22,
        "name": "Update session fee",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as an admin via Cognito",
            "match": {
              "location": "step-definitions/order-management.steps.ts:137"
            },
            "result": {
              "status": "passed",
              "duration": 48041
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGFkbWluIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 23,
            "name": "I update parameter \"/EpicWeave/pricing/session-fee\" to \"3.50\"",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:54"
            },
            "result": {
              "status": "passed",
              "duration": 129999
            },
            "embeddings": [
              {
                "data": "VXBkYXRpbmcgL0VwaWNXZWF2ZS9wcmljaW5nL3Nlc3Npb24tZmVlIHRvIDMuNTA=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 24,
            "name": "the Parameter Store value should be updated to \"3.50\"",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:61"
            },
            "result": {
              "status": "passed",
              "duration": 125541
            },
            "embeddings": [
              {
                "data": "UGFyYW1ldGVyIFN0b3JlIHZhbHVlIHVwZGF0ZWQgdG86IDMuNTA=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 25,
            "name": "the change should take effect immediately for new sessions",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:68"
            },
            "result": {
              "status": "passed",
              "duration": 144042
            },
            "embeddings": [
              {
                "data": "Q2hhbmdlIGVmZmVjdGl2ZSBpbW1lZGlhdGVseQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 26,
            "name": "a config change audit log should be recorded",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:75"
            },
            "result": {
              "status": "passed",
              "duration": 107833
            },
            "embeddings": [
              {
                "data": "QXVkaXQgbG9nIHJlY29yZGVk",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "admin-configuration-management;update-custom-t-shirt-base-price",
        "keyword": "Scenario",
        "line": 28,
        "name": "Update custom t-shirt base price",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as an admin via Cognito",
            "match": {
              "location": "step-definitions/order-management.steps.ts:137"
            },
            "result": {
              "status": "passed",
              "duration": 49458
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGFkbWluIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 29,
            "name": "I update parameter \"/EpicWeave/pricing/custom-tshirt-base\" to \"25.00\"",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:54"
            },
            "result": {
              "status": "passed",
              "duration": 72375
            },
            "embeddings": [
              {
                "data": "VXBkYXRpbmcgL0VwaWNXZWF2ZS9wcmljaW5nL2N1c3RvbS10c2hpcnQtYmFzZSB0byAyNS4wMA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 30,
            "name": "the Parameter Store value should be updated to \"25.00\"",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:61"
            },
            "result": {
              "status": "passed",
              "duration": 109916
            },
            "embeddings": [
              {
                "data": "UGFyYW1ldGVyIFN0b3JlIHZhbHVlIHVwZGF0ZWQgdG86IDI1LjAw",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 31,
            "name": "new design finalizations should use the updated price",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:82"
            },
            "result": {
              "status": "passed",
              "duration": 47208
            },
            "embeddings": [
              {
                "data": "VXBkYXRlZCBwcmljZSB1c2VkIGluIGZpbmFsaXphdGlvbnM=",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "admin-configuration-management;update-shipping-flat-rate",
        "keyword": "Scenario",
        "line": 33,
        "name": "Update shipping flat rate",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as an admin via Cognito",
            "match": {
              "location": "step-definitions/order-management.steps.ts:137"
            },
            "result": {
              "status": "passed",
              "duration": 137499
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGFkbWluIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 34,
            "name": "I update parameter \"/EpicWeave/shipping/flat-rate-base\" to \"7.99\"",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:54"
            },
            "result": {
              "status": "passed",
              "duration": 61832
            },
            "embeddings": [
              {
                "data": "VXBkYXRpbmcgL0VwaWNXZWF2ZS9zaGlwcGluZy9mbGF0LXJhdGUtYmFzZSB0byA3Ljk5",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 35,
            "name": "the Parameter Store value should be updated to \"7.99\"",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:61"
            },
            "result": {
              "status": "passed",
              "duration": 42167
            },
            "embeddings": [
              {
                "data": "UGFyYW1ldGVyIFN0b3JlIHZhbHVlIHVwZGF0ZWQgdG86IDcuOTk=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 36,
            "name": "new checkout calculations should use the updated rate",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:89"
            },
            "result": {
              "status": "passed",
              "duration": 47040
            },
            "embeddings": [
              {
                "data": "VXBkYXRlZCByYXRlIHVzZWQgaW4gY2hlY2tvdXQ=",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "admin-configuration-management;update-session-configuration",
        "keyword": "Scenario",
        "line": 38,
        "name": "Update session configuration",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as an admin via Cognito",
            "match": {
              "location": "step-definitions/order-management.steps.ts:137"
            },
            "result": {
              "status": "passed",
              "duration": 38333
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGFkbWluIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 39,
            "name": "I update parameter \"/EpicWeave/session/max-iterations\" to \"8\"",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:54"
            },
            "result": {
              "status": "passed",
              "duration": 48292
            },
            "embeddings": [
              {
                "data": "VXBkYXRpbmcgL0VwaWNXZWF2ZS9zZXNzaW9uL21heC1pdGVyYXRpb25zIHRvIDg=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 40,
            "name": "the Parameter Store value should be updated to \"8\"",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:61"
            },
            "result": {
              "status": "passed",
              "duration": 31291
            },
            "embeddings": [
              {
                "data": "UGFyYW1ldGVyIFN0b3JlIHZhbHVlIHVwZGF0ZWQgdG86IDg=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 41,
            "name": "new design sessions should allow 8 iterations",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:96"
            },
            "result": {
              "status": "passed",
              "duration": 59667
            },
            "embeddings": [
              {
                "data": "TWF4IGl0ZXJhdGlvbnM6IDg=",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "admin-configuration-management;update-ai-image-resolution",
        "keyword": "Scenario",
        "line": 43,
        "name": "Update AI image resolution",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as an admin via Cognito",
            "match": {
              "location": "step-definitions/order-management.steps.ts:137"
            },
            "result": {
              "status": "passed",
              "duration": 30749
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGFkbWluIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 44,
            "name": "I update parameter \"/EpicWeave/ai/image-resolution\" to \"1024x1024\"",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:54"
            },
            "result": {
              "status": "passed",
              "duration": 34291
            },
            "embeddings": [
              {
                "data": "VXBkYXRpbmcgL0VwaWNXZWF2ZS9haS9pbWFnZS1yZXNvbHV0aW9uIHRvIDEwMjR4MTAyNA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 45,
            "name": "the Parameter Store value should be updated to \"1024x1024\"",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:61"
            },
            "result": {
              "status": "passed",
              "duration": 30250
            },
            "embeddings": [
              {
                "data": "UGFyYW1ldGVyIFN0b3JlIHZhbHVlIHVwZGF0ZWQgdG86IDEwMjR4MTAyNA==",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "admin-configuration-management;update-allowed-mythology-types",
        "keyword": "Scenario",
        "line": 47,
        "name": "Update allowed mythology types",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as an admin via Cognito",
            "match": {
              "location": "step-definitions/order-management.steps.ts:137"
            },
            "result": {
              "status": "passed",
              "duration": 29707
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGFkbWluIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 48,
            "name": "I update parameter \"/EpicWeave/mythology/allowed-types\" to \"hindu,greek,norse\"",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:54"
            },
            "result": {
              "status": "passed",
              "duration": 33666
            },
            "embeddings": [
              {
                "data": "VXBkYXRpbmcgL0VwaWNXZWF2ZS9teXRob2xvZ3kvYWxsb3dlZC10eXBlcyB0byBoaW5kdSxncmVlayxub3JzZQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 49,
            "name": "the Parameter Store value should be updated to \"hindu,greek,norse\"",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:61"
            },
            "result": {
              "status": "passed",
              "duration": 29042
            },
            "embeddings": [
              {
                "data": "UGFyYW1ldGVyIFN0b3JlIHZhbHVlIHVwZGF0ZWQgdG86IGhpbmR1LGdyZWVrLG5vcnNl",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 50,
            "name": "content validation should accept Norse mythology prompts",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:103"
            },
            "result": {
              "status": "passed",
              "duration": 33415
            },
            "embeddings": [
              {
                "data": "Tm9yc2UgbXl0aG9sb2d5IG5vdyBhY2NlcHRlZA==",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "admin-configuration-management;validate-parameter-value-format",
        "keyword": "Scenario",
        "line": 52,
        "name": "Validate parameter value format",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as an admin via Cognito",
            "match": {
              "location": "step-definitions/order-management.steps.ts:137"
            },
            "result": {
              "status": "passed",
              "duration": 30624
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGFkbWluIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 53,
            "name": "I try to update parameter \"/EpicWeave/pricing/session-fee\" to \"not-a-number\"",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:110"
            },
            "result": {
              "status": "passed",
              "duration": 70667
            },
            "embeddings": [
              {
                "data": "QXR0ZW1wdGluZyB0byB1cGRhdGUgL0VwaWNXZWF2ZS9wcmljaW5nL3Nlc3Npb24tZmVlIHRvIG5vdC1hLW51bWJlcg==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 54,
            "name": "I should see a validation error \"Value must be a valid number for pricing parameters\"",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:128"
            },
            "result": {
              "status": "passed",
              "duration": 58540
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 55,
            "name": "the parameter should not be updated",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:139"
            },
            "result": {
              "status": "passed",
              "duration": 33041
            },
            "embeddings": [
              {
                "data": "UGFyYW1ldGVyIHVuY2hhbmdlZA==",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "admin-configuration-management;validate-parameter-value-range",
        "keyword": "Scenario",
        "line": 57,
        "name": "Validate parameter value range",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as an admin via Cognito",
            "match": {
              "location": "step-definitions/order-management.steps.ts:137"
            },
            "result": {
              "status": "passed",
              "duration": 35542
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGFkbWluIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 58,
            "name": "I try to update parameter \"/EpicWeave/pricing/session-fee\" to \"-5.00\"",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:110"
            },
            "result": {
              "status": "passed",
              "duration": 36958
            },
            "embeddings": [
              {
                "data": "QXR0ZW1wdGluZyB0byB1cGRhdGUgL0VwaWNXZWF2ZS9wcmljaW5nL3Nlc3Npb24tZmVlIHRvIC01LjAw",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 59,
            "name": "I should see a validation error \"Pricing values must be positive\"",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:128"
            },
            "result": {
              "status": "passed",
              "duration": 25291
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 60,
            "name": "the parameter should not be updated",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:139"
            },
            "result": {
              "status": "passed",
              "duration": 30833
            },
            "embeddings": [
              {
                "data": "UGFyYW1ldGVyIHVuY2hhbmdlZA==",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "admin-configuration-management;non-admin-cannot-access-configuration",
        "keyword": "Scenario",
        "line": 62,
        "name": "Non-admin cannot access configuration",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as an admin via Cognito",
            "match": {
              "location": "step-definitions/order-management.steps.ts:137"
            },
            "result": {
              "status": "passed",
              "duration": 31332
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGFkbWluIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 63,
            "name": "I am logged in as a regular customer",
            "match": {
              "location": "step-definitions/order-management.steps.ts:150"
            },
            "result": {
              "status": "passed",
              "duration": 38541
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIHJlZ3VsYXIgY3VzdG9tZXIgKG5vbi1hZG1pbik=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 64,
            "name": "I try to access the admin config API",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:146"
            },
            "result": {
              "status": "passed",
              "duration": 33375
            },
            "embeddings": [
              {
                "data": "Tm9uLWFkbWluIGF0dGVtcHRpbmcgYWRtaW4gY29uZmlnIEFQSQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 65,
            "name": "I should receive a 403 Forbidden response",
            "match": {
              "location": "step-definitions/order-management.steps.ts:391"
            },
            "result": {
              "status": "passed",
              "duration": 39542
            },
            "embeddings": [
              {
                "data": "UmVjZWl2ZWQgNDAzIEZvcmJpZGRlbg==",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "admin-configuration-management;non-admin-cannot-update-configuration",
        "keyword": "Scenario",
        "line": 67,
        "name": "Non-admin cannot update configuration",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as an admin via Cognito",
            "match": {
              "location": "step-definitions/order-management.steps.ts:137"
            },
            "result": {
              "status": "passed",
              "duration": 38875
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGFkbWluIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 68,
            "name": "I am logged in as a regular customer",
            "match": {
              "location": "step-definitions/order-management.steps.ts:150"
            },
            "result": {
              "status": "passed",
              "duration": 27166
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIHJlZ3VsYXIgY3VzdG9tZXIgKG5vbi1hZG1pbik=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 69,
            "name": "I try to update parameter \"/EpicWeave/pricing/session-fee\" to \"0.00\"",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:110"
            },
            "result": {
              "status": "passed",
              "duration": 34708
            },
            "embeddings": [
              {
                "data": "QXR0ZW1wdGluZyB0byB1cGRhdGUgL0VwaWNXZWF2ZS9wcmljaW5nL3Nlc3Npb24tZmVlIHRvIDAuMDA=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 70,
            "name": "I should receive a 403 Forbidden response",
            "match": {
              "location": "step-definitions/order-management.steps.ts:391"
            },
            "result": {
              "status": "passed",
              "duration": 28832
            },
            "embeddings": [
              {
                "data": "UmVjZWl2ZWQgNDAzIEZvcmJpZGRlbg==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 71,
            "name": "the parameter should not be updated",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:139"
            },
            "result": {
              "status": "passed",
              "duration": 25707
            },
            "embeddings": [
              {
                "data": "UGFyYW1ldGVyIHVuY2hhbmdlZA==",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      }
    ],
    "id": "admin-configuration-management",
    "line": 1,
    "keyword": "Feature",
    "name": "Admin Configuration Management",
    "tags": [],
    "uri": "features/functional/admin/admin-configuration.feature"
  },
  {
    "description": "  As a platform operator\n  I want all pricing to be read dynamically from Parameter Store\n  So that I can adjust prices without deploying code changes",
    "elements": [
      {
        "description": "",
        "id": "dynamic-pricing-via-parameter-store;session-fee-is-read-from-parameter-store",
        "keyword": "Scenario",
        "line": 9,
        "name": "Session fee is read from Parameter Store",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 44250
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 10,
            "name": "the Parameter Store value \"/EpicWeave/pricing/session-fee\" is \"2.00\"",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:157"
            },
            "result": {
              "status": "passed",
              "duration": 42291
            },
            "embeddings": [
              {
                "data": "UGFyYW1ldGVyIFN0b3JlOiAvRXBpY1dlYXZlL3ByaWNpbmcvc2Vzc2lvbi1mZWUgPSAyLjAw",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 11,
            "name": "I navigate to the design session page",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:171"
            },
            "result": {
              "status": "passed",
              "duration": 31125
            },
            "embeddings": [
              {
                "data": "TmF2aWdhdGluZyB0byAvZGVzaWdu",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 12,
            "name": "the displayed session fee should be \"$2.00\"",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:178"
            },
            "result": {
              "status": "passed",
              "duration": 41917
            },
            "embeddings": [
              {
                "data": "RGlzcGxheWVkIGZlZTogJDIuMDA=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 13,
            "name": "the Stripe PaymentIntent amount should match the Parameter Store value",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:185"
            },
            "result": {
              "status": "passed",
              "duration": 32625
            },
            "embeddings": [
              {
                "data": "UGF5bWVudEludGVudCBhbW91bnQgbWF0Y2hlcyBQYXJhbWV0ZXIgU3RvcmU=",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "dynamic-pricing-via-parameter-store;session-fee-updates-reflect-immediately",
        "keyword": "Scenario",
        "line": 15,
        "name": "Session fee updates reflect immediately",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 28082
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 16,
            "name": "the admin has changed \"/EpicWeave/pricing/session-fee\" to \"3.50\"",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:164"
            },
            "result": {
              "status": "passed",
              "duration": 42958
            },
            "embeddings": [
              {
                "data": "QWRtaW4gY2hhbmdlZCAvRXBpY1dlYXZlL3ByaWNpbmcvc2Vzc2lvbi1mZWUgdG8gMy41MA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 17,
            "name": "I navigate to the design session page",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:171"
            },
            "result": {
              "status": "passed",
              "duration": 26417
            },
            "embeddings": [
              {
                "data": "TmF2aWdhdGluZyB0byAvZGVzaWdu",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 18,
            "name": "the displayed session fee should be \"$3.50\"",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:178"
            },
            "result": {
              "status": "passed",
              "duration": 28874
            },
            "embeddings": [
              {
                "data": "RGlzcGxheWVkIGZlZTogJDMuNTA=",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "dynamic-pricing-via-parameter-store;custom-t-shirt-base-price-is-read-from-parameter-store",
        "keyword": "Scenario",
        "line": 20,
        "name": "Custom t-shirt base price is read from Parameter Store",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 27750
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 21,
            "name": "the Parameter Store value \"/EpicWeave/pricing/custom-tshirt-base\" is \"20.00\"",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:157"
            },
            "result": {
              "status": "passed",
              "duration": 40750
            },
            "embeddings": [
              {
                "data": "UGFyYW1ldGVyIFN0b3JlOiAvRXBpY1dlYXZlL3ByaWNpbmcvY3VzdG9tLXRzaGlydC1iYXNlID0gMjAuMDA=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 22,
            "name": "I finalize a custom design with front-only placement",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:192"
            },
            "result": {
              "status": "passed",
              "duration": 31208
            },
            "embeddings": [
              {
                "data": "RmluYWxpemluZyB3aXRoIGZyb250LW9ubHkgcGxhY2VtZW50",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 23,
            "name": "the calculated price should be \"$20.00\"",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:206"
            },
            "result": {
              "status": "passed",
              "duration": 36917
            },
            "embeddings": [
              {
                "data": "Q2FsY3VsYXRlZCBwcmljZTogJDIwLjAw",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "dynamic-pricing-via-parameter-store;both-placement-surcharge-is-applied-from-parameter-store",
        "keyword": "Scenario",
        "line": 25,
        "name": "Both-placement surcharge is applied from Parameter Store",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 26875
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 26,
            "name": "the Parameter Store value \"/EpicWeave/pricing/custom-tshirt-base\" is \"20.00\"",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:157"
            },
            "result": {
              "status": "passed",
              "duration": 31834
            },
            "embeddings": [
              {
                "data": "UGFyYW1ldGVyIFN0b3JlOiAvRXBpY1dlYXZlL3ByaWNpbmcvY3VzdG9tLXRzaGlydC1iYXNlID0gMjAuMDA=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 27,
            "name": "the Parameter Store value \"/EpicWeave/pricing/both-placement-surcharge\" is \"5.00\"",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:157"
            },
            "result": {
              "status": "passed",
              "duration": 32209
            },
            "embeddings": [
              {
                "data": "UGFyYW1ldGVyIFN0b3JlOiAvRXBpY1dlYXZlL3ByaWNpbmcvYm90aC1wbGFjZW1lbnQtc3VyY2hhcmdlID0gNS4wMA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 28,
            "name": "I finalize a custom design with both-side placement",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:199"
            },
            "result": {
              "status": "passed",
              "duration": 32249
            },
            "embeddings": [
              {
                "data": "RmluYWxpemluZyB3aXRoIGJvdGgtc2lkZSBwbGFjZW1lbnQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 29,
            "name": "the calculated price should be \"$25.00\"",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:206"
            },
            "result": {
              "status": "passed",
              "duration": 254291
            },
            "embeddings": [
              {
                "data": "Q2FsY3VsYXRlZCBwcmljZTogJDI1LjAw",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "dynamic-pricing-via-parameter-store;shipping-rate-is-read-from-parameter-store",
        "keyword": "Scenario",
        "line": 31,
        "name": "Shipping rate is read from Parameter Store",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 95583
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 32,
            "name": "the Parameter Store value \"/EpicWeave/shipping/flat-rate-base\" is \"5.99\"",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:157"
            },
            "result": {
              "status": "passed",
              "duration": 61542
            },
            "embeddings": [
              {
                "data": "UGFyYW1ldGVyIFN0b3JlOiAvRXBpY1dlYXZlL3NoaXBwaW5nL2ZsYXQtcmF0ZS1iYXNlID0gNS45OQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 33,
            "name": "I have 3 items in my cart",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:213"
            },
            "result": {
              "status": "passed",
              "duration": 67790
            },
            "embeddings": [
              {
                "data": "Q2FydCBoYXMgMyBpdGVtcw==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 34,
            "name": "I proceed to the checkout page",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:220"
            },
            "result": {
              "status": "passed",
              "duration": 40958
            },
            "embeddings": [
              {
                "data": "UHJvY2VlZGluZyB0byBjaGVja291dCBwYWdl",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 35,
            "name": "the shipping cost should be \"$9.99\"",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:224"
            },
            "result": {
              "status": "passed",
              "duration": 43416
            },
            "embeddings": [
              {
                "data": "U2hpcHBpbmcgY29zdDogJDkuOTk=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 36,
            "name": "the calculation should be flat-rate $5.99 plus $2.00 per extra item",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:231"
            },
            "result": {
              "status": "passed",
              "duration": 56540
            },
            "embeddings": [
              {
                "data": "U2hpcHBpbmc6ICQ1Ljk5IGJhc2UgKyAkMi9leHRyYSBpdGVt",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "dynamic-pricing-via-parameter-store;max-iterations-is-read-from-parameter-store",
        "keyword": "Scenario",
        "line": 38,
        "name": "Max iterations is read from Parameter Store",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 31790
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 39,
            "name": "the Parameter Store value \"/EpicWeave/session/max-iterations\" is \"5\"",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:157"
            },
            "result": {
              "status": "passed",
              "duration": 33499
            },
            "embeddings": [
              {
                "data": "UGFyYW1ldGVyIFN0b3JlOiAvRXBpY1dlYXZlL3Nlc3Npb24vbWF4LWl0ZXJhdGlvbnMgPSA1",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 40,
            "name": "I start a new design session",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:238"
            },
            "result": {
              "status": "passed",
              "duration": 32457
            },
            "embeddings": [
              {
                "data": "U3RhcnRpbmcgbmV3IGRlc2lnbiBzZXNzaW9u",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 41,
            "name": "the session should allow a maximum of 5 iterations",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:242"
            },
            "result": {
              "status": "passed",
              "duration": 36999
            },
            "embeddings": [
              {
                "data": "U2Vzc2lvbiBtYXggaXRlcmF0aW9uczogNQ==",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "dynamic-pricing-via-parameter-store;allowed-mythology-types-are-read-from-parameter-store",
        "keyword": "Scenario",
        "line": 43,
        "name": "Allowed mythology types are read from Parameter Store",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 36708
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 44,
            "name": "the Parameter Store value \"/EpicWeave/mythology/allowed-types\" is \"hindu,greek\"",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:157"
            },
            "result": {
              "status": "passed",
              "duration": 32166
            },
            "embeddings": [
              {
                "data": "UGFyYW1ldGVyIFN0b3JlOiAvRXBpY1dlYXZlL215dGhvbG9neS9hbGxvd2VkLXR5cGVzID0gaGluZHUsZ3JlZWs=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 45,
            "name": "I enter a prompt referencing Norse mythology",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:249"
            },
            "result": {
              "status": "passed",
              "duration": 32375
            },
            "embeddings": [
              {
                "data": "RW50ZXJlZCBOb3JzZSBteXRob2xvZ3kgcHJvbXB0",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 46,
            "name": "the prompt should be rejected as invalid mythology type",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:256"
            },
            "result": {
              "status": "passed",
              "duration": 31625
            },
            "embeddings": [
              {
                "data": "UHJvbXB0IHJlamVjdGVkOiBOb3JzZSBub3QgaW4gYWxsb3dlZCB0eXBlcw==",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "dynamic-pricing-via-parameter-store;ai-image-resolution-is-read-from-parameter-store",
        "keyword": "Scenario",
        "line": 48,
        "name": "AI image resolution is read from Parameter Store",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 26916
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 49,
            "name": "the Parameter Store value \"/EpicWeave/ai/image-resolution\" is \"1024x1024\"",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:157"
            },
            "result": {
              "status": "passed",
              "duration": 30499
            },
            "embeddings": [
              {
                "data": "UGFyYW1ldGVyIFN0b3JlOiAvRXBpY1dlYXZlL2FpL2ltYWdlLXJlc29sdXRpb24gPSAxMDI0eDEwMjQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 50,
            "name": "the AI worker generates an image",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:263"
            },
            "result": {
              "status": "passed",
              "duration": 27709
            },
            "embeddings": [
              {
                "data": "QUkgd29ya2VyIGdlbmVyYXRpbmcgaW1hZ2U=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 51,
            "name": "the DALL-E API should be called with resolution \"1024x1024\"",
            "match": {
              "location": "step-definitions/admin-config.steps.ts:267"
            },
            "result": {
              "status": "passed",
              "duration": 34041
            },
            "embeddings": [
              {
                "data": "REFMTC1FIHJlc29sdXRpb246IDEwMjR4MTAyNA==",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      }
    ],
    "id": "dynamic-pricing-via-parameter-store",
    "line": 1,
    "keyword": "Feature",
    "name": "Dynamic Pricing via Parameter Store",
    "tags": [],
    "uri": "features/functional/admin/dynamic-pricing.feature"
  },
  {
    "description": "  As a registered user\n  I want to log in to my account\n  So that I can access my profile and make purchases",
    "elements": [
      {
        "description": "",
        "id": "user-login;successfully-login-with-valid-credentials",
        "keyword": "Scenario",
        "line": 10,
        "name": "Successfully login with valid credentials",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the EpicWeave platform is available",
            "match": {
              "location": "step-definitions/auth.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 156083
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "I have a registered account with email \"testuser@example.com\" and password \"TestPass123!\"",
            "match": {
              "location": "step-definitions/auth.steps.ts:16"
            },
            "result": {
              "status": "passed",
              "duration": 159708
            },
            "embeddings": [
              {
                "data": "Q3JlYXRpbmcgdGVzdCB1c2VyOiB0ZXN0dXNlckBleGFtcGxlLmNvbQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 11,
            "name": "I log in with email \"testuser@example.com\" and password \"TestPass123!\"",
            "match": {
              "location": "step-definitions/auth.steps.ts:88"
            },
            "result": {
              "status": "passed",
              "duration": 112374
            },
            "embeddings": [
              {
                "data": "TG9nZ2luZyBpbiB1c2VyOiB0ZXN0dXNlckBleGFtcGxlLmNvbQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 12,
            "name": "I should be logged in successfully",
            "match": {
              "location": "step-definitions/auth.steps.ts:101"
            },
            "result": {
              "status": "passed",
              "duration": 60457
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 13,
            "name": "I should receive valid JWT tokens from Cognito",
            "match": {
              "location": "step-definitions/auth.steps.ts:108"
            },
            "result": {
              "status": "passed",
              "duration": 90750
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 14,
            "name": "the tokens should contain my user ID and email",
            "match": {
              "location": "step-definitions/auth.steps.ts:117"
            },
            "result": {
              "status": "passed",
              "duration": 37209
            },
            "embeddings": [
              {
                "data": "VmVyaWZ5aW5nIEpXVCB0b2tlbiBwYXlsb2Fk",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "user-login;login-with-incorrect-password",
        "keyword": "Scenario",
        "line": 16,
        "name": "Login with incorrect password",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the EpicWeave platform is available",
            "match": {
              "location": "step-definitions/auth.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 20666
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "I have a registered account with email \"testuser@example.com\" and password \"TestPass123!\"",
            "match": {
              "location": "step-definitions/auth.steps.ts:16"
            },
            "result": {
              "status": "passed",
              "duration": 31291
            },
            "embeddings": [
              {
                "data": "Q3JlYXRpbmcgdGVzdCB1c2VyOiB0ZXN0dXNlckBleGFtcGxlLmNvbQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 17,
            "name": "I attempt to log in with email \"testuser@example.com\" and password \"WrongPassword!\"",
            "match": {
              "location": "step-definitions/auth.steps.ts:163"
            },
            "result": {
              "status": "passed",
              "duration": 50666
            },
            "embeddings": [
              {
                "data": "QXR0ZW1wdGluZyBsb2dpbjogdGVzdHVzZXJAZXhhbXBsZS5jb20=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 18,
            "name": "I should see an error \"Incorrect username or password\"",
            "match": {
              "location": "step-definitions/auth.steps.ts:148"
            },
            "result": {
              "status": "passed",
              "duration": 33541
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 19,
            "name": "I should not be logged in",
            "match": {
              "location": "step-definitions/auth.steps.ts:178"
            },
            "result": {
              "status": "passed",
              "duration": 25832
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "user-login;login-with-non-existent-email",
        "keyword": "Scenario",
        "line": 21,
        "name": "Login with non-existent email",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the EpicWeave platform is available",
            "match": {
              "location": "step-definitions/auth.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 17416
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "I have a registered account with email \"testuser@example.com\" and password \"TestPass123!\"",
            "match": {
              "location": "step-definitions/auth.steps.ts:16"
            },
            "result": {
              "status": "passed",
              "duration": 29207
            },
            "embeddings": [
              {
                "data": "Q3JlYXRpbmcgdGVzdCB1c2VyOiB0ZXN0dXNlckBleGFtcGxlLmNvbQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 22,
            "name": "I attempt to log in with email \"nonexistent@example.com\" and password \"SomePass123!\"",
            "match": {
              "location": "step-definitions/auth.steps.ts:163"
            },
            "result": {
              "status": "passed",
              "duration": 27667
            },
            "embeddings": [
              {
                "data": "QXR0ZW1wdGluZyBsb2dpbjogbm9uZXhpc3RlbnRAZXhhbXBsZS5jb20=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 23,
            "name": "I should see an error \"User does not exist\"",
            "match": {
              "location": "step-definitions/auth.steps.ts:148"
            },
            "result": {
              "status": "passed",
              "duration": 25666
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 24,
            "name": "I should not be logged in",
            "match": {
              "location": "step-definitions/auth.steps.ts:178"
            },
            "result": {
              "status": "passed",
              "duration": 16292
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "user-login;login-with-unverified-email",
        "keyword": "Scenario",
        "line": 26,
        "name": "Login with unverified email",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the EpicWeave platform is available",
            "match": {
              "location": "step-definitions/auth.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 16291
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "I have a registered account with email \"testuser@example.com\" and password \"TestPass123!\"",
            "match": {
              "location": "step-definitions/auth.steps.ts:16"
            },
            "result": {
              "status": "passed",
              "duration": 29667
            },
            "embeddings": [
              {
                "data": "Q3JlYXRpbmcgdGVzdCB1c2VyOiB0ZXN0dXNlckBleGFtcGxlLmNvbQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 27,
            "name": "I have registered but not verified email \"unverified@example.com\"",
            "match": {
              "location": "step-definitions/auth.steps.ts:226"
            },
            "result": {
              "status": "passed",
              "duration": 99792
            },
            "embeddings": [
              {
                "data": "VW52ZXJpZmllZCBhY2NvdW50OiB1bnZlcmlmaWVkQGV4YW1wbGUuY29t",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 28,
            "name": "I attempt to log in with email \"unverified@example.com\" and password \"TestPass123!\"",
            "match": {
              "location": "step-definitions/auth.steps.ts:163"
            },
            "result": {
              "status": "passed",
              "duration": 35583
            },
            "embeddings": [
              {
                "data": "QXR0ZW1wdGluZyBsb2dpbjogdW52ZXJpZmllZEBleGFtcGxlLmNvbQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 29,
            "name": "I should see an error \"User is not confirmed\"",
            "match": {
              "location": "step-definitions/auth.steps.ts:148"
            },
            "result": {
              "status": "passed",
              "duration": 17667
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 30,
            "name": "I should be prompted to verify my email",
            "match": {
              "location": "step-definitions/auth.steps.ts:233"
            },
            "result": {
              "status": "passed",
              "duration": 25916
            },
            "embeddings": [
              {
                "data": "UHJvbXB0ZWQgdG8gdmVyaWZ5IGVtYWls",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "user-login;login-via-google-oauth",
        "keyword": "Scenario",
        "line": 32,
        "name": "Login via Google OAuth",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the EpicWeave platform is available",
            "match": {
              "location": "step-definitions/auth.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 35749
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "I have a registered account with email \"testuser@example.com\" and password \"TestPass123!\"",
            "match": {
              "location": "step-definitions/auth.steps.ts:16"
            },
            "result": {
              "status": "passed",
              "duration": 24041
            },
            "embeddings": [
              {
                "data": "Q3JlYXRpbmcgdGVzdCB1c2VyOiB0ZXN0dXNlckBleGFtcGxlLmNvbQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 33,
            "name": "I click \"Sign in with Google\"",
            "match": {
              "location": "step-definitions/auth.steps.ts:183"
            },
            "result": {
              "status": "passed",
              "duration": 21667
            },
            "embeddings": [
              {
                "data": "Q2xpY2tpbmc6IFNpZ24gaW4gd2l0aCBHb29nbGU=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 34,
            "name": "I authenticate via Google OAuth",
            "match": {
              "location": "step-definitions/auth.steps.ts:191"
            },
            "result": {
              "status": "passed",
              "duration": 20625
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 35,
            "name": "I should be redirected back to the application",
            "match": {
              "location": "step-definitions/auth.steps.ts:209"
            },
            "result": {
              "status": "passed",
              "duration": 21957
            },
            "embeddings": [
              {
                "data": "VmVyaWZ5aW5nIE9BdXRoIHJlZGlyZWN0",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 36,
            "name": "I should be logged in with valid JWT tokens",
            "match": {
              "location": "step-definitions/auth.steps.ts:65"
            },
            "result": {
              "status": "passed",
              "duration": 20082
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 37,
            "name": "I should be redirected to the dashboard",
            "match": {
              "location": "step-definitions/auth.steps.ts:217"
            },
            "result": {
              "status": "passed",
              "duration": 42292
            },
            "embeddings": [
              {
                "data": "VmVyaWZ5aW5nIGRhc2hib2FyZCByZWRpcmVjdA==",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "user-login;login-via-github-oauth",
        "keyword": "Scenario",
        "line": 39,
        "name": "Login via GitHub OAuth",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the EpicWeave platform is available",
            "match": {
              "location": "step-definitions/auth.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 17459
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "I have a registered account with email \"testuser@example.com\" and password \"TestPass123!\"",
            "match": {
              "location": "step-definitions/auth.steps.ts:16"
            },
            "result": {
              "status": "passed",
              "duration": 27500
            },
            "embeddings": [
              {
                "data": "Q3JlYXRpbmcgdGVzdCB1c2VyOiB0ZXN0dXNlckBleGFtcGxlLmNvbQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 40,
            "name": "I click \"Sign in with GitHub\"",
            "match": {
              "location": "step-definitions/auth.steps.ts:187"
            },
            "result": {
              "status": "passed",
              "duration": 26416
            },
            "embeddings": [
              {
                "data": "Q2xpY2tpbmc6IFNpZ24gaW4gd2l0aCBHaXRIdWI=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 41,
            "name": "I authenticate via GitHub OAuth",
            "match": {
              "location": "step-definitions/auth.steps.ts:200"
            },
            "result": {
              "status": "passed",
              "duration": 53791
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 42,
            "name": "I should be redirected back to the application",
            "match": {
              "location": "step-definitions/auth.steps.ts:209"
            },
            "result": {
              "status": "passed",
              "duration": 27666
            },
            "embeddings": [
              {
                "data": "VmVyaWZ5aW5nIE9BdXRoIHJlZGlyZWN0",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 43,
            "name": "I should be logged in with valid JWT tokens",
            "match": {
              "location": "step-definitions/auth.steps.ts:65"
            },
            "result": {
              "status": "passed",
              "duration": 17416
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 44,
            "name": "I should be redirected to the dashboard",
            "match": {
              "location": "step-definitions/auth.steps.ts:217"
            },
            "result": {
              "status": "passed",
              "duration": 114665
            },
            "embeddings": [
              {
                "data": "VmVyaWZ5aW5nIGRhc2hib2FyZCByZWRpcmVjdA==",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "user-login;token-refresh-after-expiration",
        "keyword": "Scenario",
        "line": 46,
        "name": "Token refresh after expiration",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the EpicWeave platform is available",
            "match": {
              "location": "step-definitions/auth.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 15833
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "I have a registered account with email \"testuser@example.com\" and password \"TestPass123!\"",
            "match": {
              "location": "step-definitions/auth.steps.ts:16"
            },
            "result": {
              "status": "passed",
              "duration": 28582
            },
            "embeddings": [
              {
                "data": "Q3JlYXRpbmcgdGVzdCB1c2VyOiB0ZXN0dXNlckBleGFtcGxlLmNvbQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 47,
            "name": "I am logged in with valid tokens",
            "match": {
              "location": "step-definitions/auth.steps.ts:240"
            },
            "result": {
              "status": "passed",
              "duration": 33291
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIHdpdGggdmFsaWQgdG9rZW5z",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 48,
            "name": "my access token has expired",
            "match": {
              "location": "step-definitions/auth.steps.ts:252"
            },
            "result": {
              "status": "passed",
              "duration": 21458
            },
            "embeddings": [
              {
                "data": "QWNjZXNzIHRva2VuIGV4cGlyZWQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 49,
            "name": "I make an authenticated API request",
            "match": {
              "location": "step-definitions/shared.steps.ts:15"
            },
            "result": {
              "status": "passed",
              "duration": 33417
            },
            "embeddings": [
              {
                "data": "TWFraW5nIGF1dGhlbnRpY2F0ZWQgQVBJIHJlcXVlc3Q=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 50,
            "name": "the system should automatically refresh my access token using the refresh token",
            "match": {
              "location": "step-definitions/shared.steps.ts:22"
            },
            "result": {
              "status": "passed",
              "duration": 21625
            },
            "embeddings": [
              {
                "data": "QWNjZXNzIHRva2VuIGF1dG8tcmVmcmVzaGVkIHZpYSByZWZyZXNoIHRva2Vu",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 51,
            "name": "the API request should succeed",
            "match": {
              "location": "step-definitions/shared.steps.ts:29"
            },
            "result": {
              "status": "passed",
              "duration": 20666
            },
            "embeddings": [
              {
                "data": "QVBJIHJlcXVlc3Qgc3VjY2VlZGVkIGFmdGVyIHRva2VuIHJlZnJlc2g=",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      }
    ],
    "id": "user-login",
    "line": 1,
    "keyword": "Feature",
    "name": "User Login",
    "tags": [],
    "uri": "features/functional/auth/login.feature"
  },
  {
    "description": "  As a new user\n  I want to register for an account\n  So that I can purchase products and create custom designs",
    "elements": [
      {
        "description": "",
        "id": "user-registration;successfully-register-with-email-and-password",
        "keyword": "Scenario",
        "line": 9,
        "name": "Successfully register with email and password",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the EpicWeave platform is available",
            "match": {
              "location": "step-definitions/auth.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 11250
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 10,
            "name": "I register with email \"user@example.com\" and password \"SecurePass123!\"",
            "match": {
              "location": "step-definitions/auth.steps.ts:25"
            },
            "result": {
              "status": "passed",
              "duration": 53666
            },
            "embeddings": [
              {
                "data": "UmVnaXN0ZXJpbmcgdXNlcjogdXNlckBleGFtcGxlLmNvbQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 11,
            "name": "I should receive an email verification code",
            "match": {
              "location": "step-definitions/auth.steps.ts:41"
            },
            "result": {
              "status": "passed",
              "duration": 20916
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 12,
            "name": "I confirm my email with the verification code",
            "match": {
              "location": "step-definitions/auth.steps.ts:52"
            },
            "result": {
              "status": "passed",
              "duration": 16792
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 13,
            "name": "my account should be activated",
            "match": {
              "location": "step-definitions/auth.steps.ts:60"
            },
            "result": {
              "status": "passed",
              "duration": 15999
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 14,
            "name": "I should be logged in with valid JWT tokens",
            "match": {
              "location": "step-definitions/auth.steps.ts:65"
            },
            "result": {
              "status": "passed",
              "duration": 11250
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 15,
            "name": "my user profile should be created in DynamoDB with role \"customer\"",
            "match": {
              "location": "step-definitions/auth.steps.ts:78"
            },
            "result": {
              "status": "passed",
              "duration": 28999
            },
            "embeddings": [
              {
                "data": "VmVyaWZ5aW5nIHVzZXIgcHJvZmlsZSB3aXRoIHJvbGU6IGN1c3RvbWVy",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "user-registration;register-with-duplicate-email",
        "keyword": "Scenario",
        "line": 17,
        "name": "Register with duplicate email",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the EpicWeave platform is available",
            "match": {
              "location": "step-definitions/auth.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 10999
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 18,
            "name": "a user already exists with email \"existing@example.com\"",
            "match": {
              "location": "step-definitions/auth.steps.ts:126"
            },
            "result": {
              "status": "passed",
              "duration": 26708
            },
            "embeddings": [
              {
                "data": "VXNlciBleGlzdHM6IGV4aXN0aW5nQGV4YW1wbGUuY29t",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 19,
            "name": "I attempt to register with email \"existing@example.com\" and password \"AnotherPass456!\"",
            "match": {
              "location": "step-definitions/auth.steps.ts:134"
            },
            "result": {
              "status": "passed",
              "duration": 36375
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 20,
            "name": "I should see an error \"User with this email already exists\"",
            "match": {
              "location": "step-definitions/auth.steps.ts:148"
            },
            "result": {
              "status": "passed",
              "duration": 16041
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 21,
            "name": "my registration should fail",
            "match": {
              "location": "step-definitions/auth.steps.ts:159"
            },
            "result": {
              "status": "passed",
              "duration": 17291
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "user-registration;register-with-invalid-email-format",
        "keyword": "Scenario",
        "line": 23,
        "name": "Register with invalid email format",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the EpicWeave platform is available",
            "match": {
              "location": "step-definitions/auth.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 11208
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 24,
            "name": "I attempt to register with email \"invalid-email\" and password \"ValidPass789!\"",
            "match": {
              "location": "step-definitions/auth.steps.ts:134"
            },
            "result": {
              "status": "passed",
              "duration": 14957
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 25,
            "name": "I should see an error \"Invalid email format\"",
            "match": {
              "location": "step-definitions/auth.steps.ts:148"
            },
            "result": {
              "status": "passed",
              "duration": 13207
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 26,
            "name": "my registration should fail",
            "match": {
              "location": "step-definitions/auth.steps.ts:159"
            },
            "result": {
              "status": "passed",
              "duration": 10041
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "user-registration;register-with-weak-password",
        "keyword": "Scenario",
        "line": 28,
        "name": "Register with weak password",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the EpicWeave platform is available",
            "match": {
              "location": "step-definitions/auth.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 10584
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 29,
            "name": "I attempt to register with email \"newuser@example.com\" and password \"weak\"",
            "match": {
              "location": "step-definitions/auth.steps.ts:134"
            },
            "result": {
              "status": "passed",
              "duration": 15124
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 30,
            "name": "I should see an error \"Password does not meet security requirements\"",
            "match": {
              "location": "step-definitions/auth.steps.ts:148"
            },
            "result": {
              "status": "passed",
              "duration": 11833
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 31,
            "name": "my registration should fail",
            "match": {
              "location": "step-definitions/auth.steps.ts:159"
            },
            "result": {
              "status": "passed",
              "duration": 9417
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "user-registration;register-via-google-oauth",
        "keyword": "Scenario",
        "line": 33,
        "name": "Register via Google OAuth",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the EpicWeave platform is available",
            "match": {
              "location": "step-definitions/auth.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 11334
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 34,
            "name": "I click \"Sign up with Google\"",
            "match": {
              "location": "step-definitions/shared.steps.ts:665"
            },
            "result": {
              "status": "passed",
              "duration": 1364749
            },
            "embeddings": [
              {
                "data": "Q2xpY2tpbmc6IFNpZ24gdXAgd2l0aCBHb29nbGU=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 35,
            "name": "I authenticate via Google OAuth",
            "match": {
              "location": "step-definitions/auth.steps.ts:191"
            },
            "result": {
              "status": "passed",
              "duration": 24458
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 36,
            "name": "I should be redirected back to the application",
            "match": {
              "location": "step-definitions/auth.steps.ts:209"
            },
            "result": {
              "status": "passed",
              "duration": 20500
            },
            "embeddings": [
              {
                "data": "VmVyaWZ5aW5nIE9BdXRoIHJlZGlyZWN0",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 37,
            "name": "I should be logged in with valid JWT tokens",
            "match": {
              "location": "step-definitions/auth.steps.ts:65"
            },
            "result": {
              "status": "passed",
              "duration": 11874
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 38,
            "name": "my user profile should be created in DynamoDB with role \"customer\"",
            "match": {
              "location": "step-definitions/auth.steps.ts:78"
            },
            "result": {
              "status": "passed",
              "duration": 24041
            },
            "embeddings": [
              {
                "data": "VmVyaWZ5aW5nIHVzZXIgcHJvZmlsZSB3aXRoIHJvbGU6IGN1c3RvbWVy",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "user-registration;register-via-github-oauth",
        "keyword": "Scenario",
        "line": 40,
        "name": "Register via GitHub OAuth",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the EpicWeave platform is available",
            "match": {
              "location": "step-definitions/auth.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 19624
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 41,
            "name": "I click \"Sign up with GitHub\"",
            "match": {
              "location": "step-definitions/shared.steps.ts:669"
            },
            "result": {
              "status": "passed",
              "duration": 40584
            },
            "embeddings": [
              {
                "data": "Q2xpY2tpbmc6IFNpZ24gdXAgd2l0aCBHaXRIdWI=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 42,
            "name": "I authenticate via GitHub OAuth",
            "match": {
              "location": "step-definitions/auth.steps.ts:200"
            },
            "result": {
              "status": "passed",
              "duration": 11042
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 43,
            "name": "I should be redirected back to the application",
            "match": {
              "location": "step-definitions/auth.steps.ts:209"
            },
            "result": {
              "status": "passed",
              "duration": 16250
            },
            "embeddings": [
              {
                "data": "VmVyaWZ5aW5nIE9BdXRoIHJlZGlyZWN0",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 44,
            "name": "I should be logged in with valid JWT tokens",
            "match": {
              "location": "step-definitions/auth.steps.ts:65"
            },
            "result": {
              "status": "passed",
              "duration": 10250
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 45,
            "name": "my user profile should be created in DynamoDB with role \"customer\"",
            "match": {
              "location": "step-definitions/auth.steps.ts:78"
            },
            "result": {
              "status": "passed",
              "duration": 17708
            },
            "embeddings": [
              {
                "data": "VmVyaWZ5aW5nIHVzZXIgcHJvZmlsZSB3aXRoIHJvbGU6IGN1c3RvbWVy",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      }
    ],
    "id": "user-registration",
    "line": 1,
    "keyword": "Feature",
    "name": "User Registration",
    "tags": [],
    "uri": "features/functional/auth/registration.feature"
  },
  {
    "description": "  As a customer\n  I want to add products to my shopping cart\n  So that I can purchase them later",
    "elements": [
      {
        "description": "",
        "id": "add-items-to-cart;add-pre-designed-product-to-cart",
        "keyword": "Scenario",
        "line": 10,
        "name": "Add pre-designed product to cart",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 17333
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the product catalog is available",
            "match": {
              "location": "step-definitions/shared.steps.ts:37"
            },
            "result": {
              "status": "passed",
              "duration": 30082
            },
            "embeddings": [
              {
                "data": "UHJvZHVjdCBjYXRhbG9nIGlzIGF2YWlsYWJsZQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 11,
            "name": "I am viewing product \"Shiva Meditation Tee\" with ID \"PROD001\"",
            "match": {
              "location": "step-definitions/shared.steps.ts:44"
            },
            "result": {
              "status": "passed",
              "duration": 35791
            },
            "embeddings": [
              {
                "data": "Vmlld2luZyBwcm9kdWN0OiBTaGl2YSBNZWRpdGF0aW9uIFRlZSAoUFJPRDAwMSk=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 12,
            "name": "I select size \"L\"",
            "match": {
              "location": "step-definitions/design-session.steps.ts:215"
            },
            "result": {
              "status": "passed",
              "duration": 31334
            },
            "embeddings": [
              {
                "data": "U2VsZWN0ZWQgc2l6ZTogTA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 13,
            "name": "I select color \"Navy\"",
            "match": {
              "location": "step-definitions/shared.steps.ts:51"
            },
            "result": {
              "status": "passed",
              "duration": 23875
            },
            "embeddings": [
              {
                "data": "U2VsZWN0ZWQgY29sb3I6IE5hdnk=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 14,
            "name": "I click \"Add to Cart\"",
            "match": {
              "location": "step-definitions/shared.steps.ts:673"
            },
            "result": {
              "status": "passed",
              "duration": 18832
            },
            "embeddings": [
              {
                "data": "Q2xpY2tpbmc6IEFkZCB0byBDYXJ0",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 15,
            "name": "a POST request should be made to API Gateway \"/cart/items\"",
            "match": {
              "location": "step-definitions/shared.steps.ts:58"
            },
            "result": {
              "status": "passed",
              "duration": 24457
            },
            "embeddings": [
              {
                "data": "UE9TVCByZXF1ZXN0IHRvOiAvY2FydC9pdGVtcw==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "Field",
                      "Value"
                    ]
                  },
                  {
                    "cells": [
                      "PK",
                      "USER#<userId>"
                    ]
                  },
                  {
                    "cells": [
                      "SK",
                      "CART#ITEM#<ulid>"
                    ]
                  },
                  {
                    "cells": [
                      "productId",
                      "PROD001"
                    ]
                  },
                  {
                    "cells": [
                      "size",
                      "L"
                    ]
                  },
                  {
                    "cells": [
                      "color",
                      "Navy"
                    ]
                  },
                  {
                    "cells": [
                      "quantity",
                      "1"
                    ]
                  },
                  {
                    "cells": [
                      "type",
                      "pre-designed"
                    ]
                  }
                ]
              }
            ],
            "keyword": "And ",
            "line": 16,
            "name": "the Lambda should create a CartItem in DynamoDB with:",
            "match": {
              "location": "step-definitions/shared.steps.ts:65"
            },
            "result": {
              "status": "passed",
              "duration": 74207
            },
            "embeddings": [
              {
                "data": "Q2FydEl0ZW06IFBLID0gVVNFUiM8dXNlcklkPg==",
                "mime_type": "text/plain"
              },
              {
                "data": "Q2FydEl0ZW06IFNLID0gQ0FSVCNJVEVNIzx1bGlkPg==",
                "mime_type": "text/plain"
              },
              {
                "data": "Q2FydEl0ZW06IHByb2R1Y3RJZCA9IFBST0QwMDE=",
                "mime_type": "text/plain"
              },
              {
                "data": "Q2FydEl0ZW06IHNpemUgPSBM",
                "mime_type": "text/plain"
              },
              {
                "data": "Q2FydEl0ZW06IGNvbG9yID0gTmF2eQ==",
                "mime_type": "text/plain"
              },
              {
                "data": "Q2FydEl0ZW06IHF1YW50aXR5ID0gMQ==",
                "mime_type": "text/plain"
              },
              {
                "data": "Q2FydEl0ZW06IHR5cGUgPSBwcmUtZGVzaWduZWQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 25,
            "name": "I should see \"Item added to cart\" confirmation toast",
            "match": {
              "location": "step-definitions/shared.steps.ts:75"
            },
            "result": {
              "status": "passed",
              "duration": 27291
            },
            "embeddings": [
              {
                "data": "VG9hc3Q6IEl0ZW0gYWRkZWQgdG8gY2FydA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 26,
            "name": "the cart icon badge should show \"1\"",
            "match": {
              "location": "step-definitions/shared.steps.ts:82"
            },
            "result": {
              "status": "passed",
              "duration": 26999
            },
            "embeddings": [
              {
                "data": "Q2FydCBiYWRnZTogMQ==",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "add-items-to-cart;add-custom-design-to-cart",
        "keyword": "Scenario",
        "line": 28,
        "name": "Add custom design to cart",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 17790
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the product catalog is available",
            "match": {
              "location": "step-definitions/shared.steps.ts:37"
            },
            "result": {
              "status": "passed",
              "duration": 13667
            },
            "embeddings": [
              {
                "data": "UHJvZHVjdCBjYXRhbG9nIGlzIGF2YWlsYWJsZQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 29,
            "name": "I have completed a design session with a custom design",
            "match": {
              "location": "step-definitions/shared.steps.ts:89"
            },
            "result": {
              "status": "passed",
              "duration": 21083
            },
            "embeddings": [
              {
                "data": "RGVzaWduIHNlc3Npb24gY29tcGxldGVkIHdpdGggY3VzdG9tIGRlc2lnbg==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 30,
            "name": "I selected color \"Black\", size \"XL\", and print placement \"both\"",
            "match": {
              "location": "step-definitions/shared.steps.ts:96"
            },
            "result": {
              "status": "passed",
              "duration": 31332
            },
            "embeddings": [
              {
                "data": "U2VsZWN0ZWQ6IEJsYWNrLCBYTCwgYm90aA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 31,
            "name": "I click \"Add to Cart\"",
            "match": {
              "location": "step-definitions/shared.steps.ts:673"
            },
            "result": {
              "status": "passed",
              "duration": 13792
            },
            "embeddings": [
              {
                "data": "Q2xpY2tpbmc6IEFkZCB0byBDYXJ0",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "Field",
                      "Value"
                    ]
                  },
                  {
                    "cells": [
                      "type",
                      "custom"
                    ]
                  },
                  {
                    "cells": [
                      "sessionId",
                      "<sessionId>"
                    ]
                  },
                  {
                    "cells": [
                      "designImageUrl",
                      "S3 URL"
                    ]
                  },
                  {
                    "cells": [
                      "printPlacement",
                      "both"
                    ]
                  },
                  {
                    "cells": [
                      "unitPrice",
                      "calculated from config"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Then ",
            "line": 32,
            "name": "a CartItem should be created in DynamoDB with:",
            "match": {
              "location": "step-definitions/shared.steps.ts:108"
            },
            "result": {
              "status": "passed",
              "duration": 46333
            },
            "embeddings": [
              {
                "data": "Q2FydEl0ZW06IHR5cGUgPSBjdXN0b20=",
                "mime_type": "text/plain"
              },
              {
                "data": "Q2FydEl0ZW06IHNlc3Npb25JZCA9IDxzZXNzaW9uSWQ+",
                "mime_type": "text/plain"
              },
              {
                "data": "Q2FydEl0ZW06IGRlc2lnbkltYWdlVXJsID0gUzMgVVJM",
                "mime_type": "text/plain"
              },
              {
                "data": "Q2FydEl0ZW06IHByaW50UGxhY2VtZW50ID0gYm90aA==",
                "mime_type": "text/plain"
              },
              {
                "data": "Q2FydEl0ZW06IHVuaXRQcmljZSA9IGNhbGN1bGF0ZWQgZnJvbSBjb25maWc=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 39,
            "name": "I should see the custom design in my cart",
            "match": {
              "location": "step-definitions/shared.steps.ts:118"
            },
            "result": {
              "status": "passed",
              "duration": 18917
            },
            "embeddings": [
              {
                "data": "Q3VzdG9tIGRlc2lnbiB2aXNpYmxlIGluIGNhcnQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 40,
            "name": "the session status should update to \"completed\"",
            "match": {
              "location": "step-definitions/shared.steps.ts:125"
            },
            "result": {
              "status": "passed",
              "duration": 24041
            },
            "embeddings": [
              {
                "data": "U2Vzc2lvbiBzdGF0dXM6IGNvbXBsZXRlZA==",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "add-items-to-cart;add-multiple-quantities-of-same-product",
        "keyword": "Scenario",
        "line": 42,
        "name": "Add multiple quantities of same product",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 17207
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the product catalog is available",
            "match": {
              "location": "step-definitions/shared.steps.ts:37"
            },
            "result": {
              "status": "passed",
              "duration": 13374
            },
            "embeddings": [
              {
                "data": "UHJvZHVjdCBjYXRhbG9nIGlzIGF2YWlsYWJsZQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 43,
            "name": "I add product \"Zeus Lightning Tee\" size \"M\" color \"White\" to cart",
            "match": {
              "location": "step-definitions/shared.steps.ts:132"
            },
            "result": {
              "status": "passed",
              "duration": 31708
            },
            "embeddings": [
              {
                "data": "QWRkaW5nIFpldXMgTGlnaHRuaW5nIFRlZSBNL1doaXRlIHRvIGNhcnQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 44,
            "name": "I add the same product with same size and color again",
            "match": {
              "location": "step-definitions/cart-checkout.steps.ts:55"
            },
            "result": {
              "status": "passed",
              "duration": 55332
            },
            "embeddings": [
              {
                "data": "QWRkaW5nIGR1cGxpY2F0ZSBwcm9kdWN0IHRvIGNhcnQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 45,
            "name": "the quantity should increment to 2",
            "match": {
              "location": "step-definitions/shared.steps.ts:144"
            },
            "result": {
              "status": "passed",
              "duration": 37791
            },
            "embeddings": [
              {
                "data": "UXVhbnRpdHkgaW5jcmVtZW50ZWQgdG86IDI=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 46,
            "name": "only one CartItem record should exist",
            "match": {
              "location": "step-definitions/shared.steps.ts:151"
            },
            "result": {
              "status": "passed",
              "duration": 23332
            },
            "embeddings": [
              {
                "data": "U2luZ2xlIENhcnRJdGVtIHJlY29yZCBpbiBEeW5hbW9EQg==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 47,
            "name": "the cart total should reflect 2 items",
            "match": {
              "location": "step-definitions/shared.steps.ts:158"
            },
            "result": {
              "status": "passed",
              "duration": 26416
            },
            "embeddings": [
              {
                "data": "Q2FydCB0b3RhbCByZWZsZWN0cyAyIGl0ZW1z",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "add-items-to-cart;add-product-that-is-out-of-stock",
        "keyword": "Scenario",
        "line": 49,
        "name": "Add product that is out of stock",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 19582
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the product catalog is available",
            "match": {
              "location": "step-definitions/shared.steps.ts:37"
            },
            "result": {
              "status": "passed",
              "duration": 15166
            },
            "embeddings": [
              {
                "data": "UHJvZHVjdCBjYXRhbG9nIGlzIGF2YWlsYWJsZQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 50,
            "name": "product variant \"Apollo Tee\" size \"S\" color \"Red\" has stockCount 0",
            "match": {
              "location": "step-definitions/shared.steps.ts:165"
            },
            "result": {
              "status": "passed",
              "duration": 43250
            },
            "embeddings": [
              {
                "data": "QXBvbGxvIFRlZSBTL1JlZCBzdG9ja0NvdW50OiAw",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 51,
            "name": "I select that variant and click \"Add to Cart\"",
            "match": {
              "location": "step-definitions/shared.steps.ts:178"
            },
            "result": {
              "status": "passed",
              "duration": 24792
            },
            "embeddings": [
              {
                "data": "U2VsZWN0ZWQgdmFyaWFudCBhbmQgY2xpY2tlZDogQWRkIHRvIENhcnQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 52,
            "name": "the Lambda should check stockCount > 0",
            "match": {
              "location": "step-definitions/shared.steps.ts:185"
            },
            "result": {
              "status": "passed",
              "duration": 22167
            },
            "embeddings": [
              {
                "data": "TGFtYmRhIGNoZWNraW5nIHN0b2NrQ291bnQgPiAw",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 53,
            "name": "the Lambda should return 409 Conflict",
            "match": {
              "location": "step-definitions/shared.steps.ts:192"
            },
            "result": {
              "status": "passed",
              "duration": 87334
            },
            "embeddings": [
              {
                "data": "TGFtYmRhIHJldHVybmVkIDQwOSBDb25mbGljdA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 54,
            "name": "I should see \"This product is currently out of stock\"",
            "match": {
              "location": "step-definitions/shared.steps.ts:689"
            },
            "result": {
              "status": "passed",
              "duration": 22083
            },
            "embeddings": [
              {
                "data": "RGlzcGxheWVkOiBvdXQgb2Ygc3RvY2sgbWVzc2FnZQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 55,
            "name": "the item should not be added to cart",
            "match": {
              "location": "step-definitions/shared.steps.ts:199"
            },
            "result": {
              "status": "passed",
              "duration": 18332
            },
            "embeddings": [
              {
                "data": "SXRlbSBub3QgYWRkZWQgdG8gY2FydA==",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "add-items-to-cart;cart-persists-across-sessions",
        "keyword": "Scenario",
        "line": 57,
        "name": "Cart persists across sessions",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 17916
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the product catalog is available",
            "match": {
              "location": "step-definitions/shared.steps.ts:37"
            },
            "result": {
              "status": "passed",
              "duration": 13500
            },
            "embeddings": [
              {
                "data": "UHJvZHVjdCBjYXRhbG9nIGlzIGF2YWlsYWJsZQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 58,
            "name": "I add items to my cart",
            "match": {
              "location": "step-definitions/shared.steps.ts:206"
            },
            "result": {
              "status": "passed",
              "duration": 18916
            },
            "embeddings": [
              {
                "data": "SXRlbXMgYWRkZWQgdG8gY2FydA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 59,
            "name": "I log out and log back in",
            "match": {
              "location": "step-definitions/shared.steps.ts:210"
            },
            "result": {
              "status": "passed",
              "duration": 17042
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIG91dCBhbmQgYmFjayBpbg==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 60,
            "name": "my cart items should still be present",
            "match": {
              "location": "step-definitions/shared.steps.ts:214"
            },
            "result": {
              "status": "passed",
              "duration": 17583
            },
            "embeddings": [
              {
                "data": "Q2FydCBpdGVtcyBwZXJzaXN0ZWQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 61,
            "name": "they should be retrieved from DynamoDB using PK=USER#<userId>",
            "match": {
              "location": "step-definitions/shared.steps.ts:221"
            },
            "result": {
              "status": "passed",
              "duration": 17416
            },
            "embeddings": [
              {
                "data": "Q2FydCBpdGVtcyByZXRyaWV2ZWQgZnJvbSBEeW5hbW9EQiBQSz1VU0VSIzx1c2VySWQ+",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      }
    ],
    "id": "add-items-to-cart",
    "line": 1,
    "keyword": "Feature",
    "name": "Add Items to Cart",
    "tags": [],
    "uri": "features/functional/cart/add-to-cart.feature"
  },
  {
    "description": "  As a customer\n  I want to browse pre-designed mythology-themed t-shirts\n  So that I can find products I want to purchase",
    "elements": [
      {
        "description": "",
        "id": "browse-product-catalog;view-all-products-without-filters",
        "keyword": "Scenario",
        "line": 10,
        "name": "View all products without filters",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the EpicWeave platform is available",
            "match": {
              "location": "step-definitions/auth.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 12624
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the product catalog contains mythology-themed t-shirts",
            "match": {
              "location": "step-definitions/catalog.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 24790
            },
            "embeddings": [
              {
                "data": "UHJvZHVjdCBjYXRhbG9nIHJlYWR5IHdpdGggdGVzdCBkYXRh",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 11,
            "name": "I navigate to the catalog page",
            "match": {
              "location": "step-definitions/catalog.steps.ts:31"
            },
            "result": {
              "status": "passed",
              "duration": 19165
            },
            "embeddings": [
              {
                "data": "TmF2aWdhdGluZyB0byBjYXRhbG9nIHBhZ2U=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 12,
            "name": "I should see a grid of product cards",
            "match": {
              "location": "step-definitions/catalog.steps.ts:42"
            },
            "result": {
              "status": "passed",
              "duration": 17041
            },
            "embeddings": [
              {
                "data": "VmVyaWZ5aW5nIHByb2R1Y3QgZ3JpZCBkaXNwbGF5",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 13,
            "name": "each product card should display an image, name, price, and available colors",
            "match": {
              "location": "step-definitions/catalog.steps.ts:50"
            },
            "result": {
              "status": "passed",
              "duration": 17207
            },
            "embeddings": [
              {
                "data": "VmVyaWZ5aW5nIHByb2R1Y3QgY2FyZCBmaWVsZHM=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 14,
            "name": "the images should be served via CloudFront CDN",
            "match": {
              "location": "step-definitions/catalog.steps.ts:58"
            },
            "result": {
              "status": "passed",
              "duration": 17083
            },
            "embeddings": [
              {
                "data": "VmVyaWZ5aW5nIENsb3VkRnJvbnQgaW1hZ2UgZGVsaXZlcnk=",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "browse-product-catalog;filter-products-by-mythology-type",
        "keyword": "Scenario",
        "line": 16,
        "name": "Filter products by mythology type",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the EpicWeave platform is available",
            "match": {
              "location": "step-definitions/auth.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 10333
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the product catalog contains mythology-themed t-shirts",
            "match": {
              "location": "step-definitions/catalog.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 14874
            },
            "embeddings": [
              {
                "data": "UHJvZHVjdCBjYXRhbG9nIHJlYWR5IHdpdGggdGVzdCBkYXRh",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 17,
            "name": "the catalog contains Hindu and Greek mythology products",
            "match": {
              "location": "step-definitions/catalog.steps.ts:14"
            },
            "result": {
              "status": "passed",
              "duration": 20874
            },
            "embeddings": [
              {
                "data": "Q2F0YWxvZyBoYXMgSGluZHUgYW5kIEdyZWVrIHByb2R1Y3Rz",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 18,
            "name": "I select \"Hindu\" mythology filter",
            "match": {
              "location": "step-definitions/catalog.steps.ts:67"
            },
            "result": {
              "status": "passed",
              "duration": 36000
            },
            "embeddings": [
              {
                "data": "U2VsZWN0aW5nIEhpbmR1IG15dGhvbG9neSBmaWx0ZXI=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 19,
            "name": "I should only see products tagged with Hindu mythology",
            "match": {
              "location": "step-definitions/catalog.steps.ts:124"
            },
            "result": {
              "status": "passed",
              "duration": 19374
            },
            "embeddings": [
              {
                "data": "VmVyaWZ5aW5nIEhpbmR1IG15dGhvbG9neSBmaWx0ZXI=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 20,
            "name": "the filter should use DynamoDB GSI1 for efficient querying",
            "match": {
              "location": "step-definitions/catalog.steps.ts:132"
            },
            "result": {
              "status": "passed",
              "duration": 17499
            },
            "embeddings": [
              {
                "data": "VmVyaWZpZWQgR1NJMSB1c2FnZSBmb3IgbXl0aG9sb2d5IHF1ZXJ5",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "browse-product-catalog;filter-products-by-size",
        "keyword": "Scenario",
        "line": 22,
        "name": "Filter products by size",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the EpicWeave platform is available",
            "match": {
              "location": "step-definitions/auth.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 9624
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the product catalog contains mythology-themed t-shirts",
            "match": {
              "location": "step-definitions/catalog.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 13957
            },
            "embeddings": [
              {
                "data": "UHJvZHVjdCBjYXRhbG9nIHJlYWR5IHdpdGggdGVzdCBkYXRh",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 23,
            "name": "I select size \"L\" filter",
            "match": {
              "location": "step-definitions/catalog.steps.ts:76"
            },
            "result": {
              "status": "passed",
              "duration": 23540
            },
            "embeddings": [
              {
                "data": "U2VsZWN0aW5nIHNpemUgTCBmaWx0ZXI=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 24,
            "name": "I should only see products available in size \"L\"",
            "match": {
              "location": "step-definitions/catalog.steps.ts:140"
            },
            "result": {
              "status": "passed",
              "duration": 23499
            },
            "embeddings": [
              {
                "data": "VmVyaWZpZWQgcHJvZHVjdHMgYXZhaWxhYmxlIGluIHNpemUgTA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 25,
            "name": "out-of-stock sizes should be indicated",
            "match": {
              "location": "step-definitions/catalog.steps.ts:148"
            },
            "result": {
              "status": "passed",
              "duration": 17083
            },
            "embeddings": [
              {
                "data": "VmVyaWZpZWQgb3V0LW9mLXN0b2NrIGluZGljYXRvcnM=",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "browse-product-catalog;filter-products-by-color",
        "keyword": "Scenario",
        "line": 27,
        "name": "Filter products by color",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the EpicWeave platform is available",
            "match": {
              "location": "step-definitions/auth.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 9250
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the product catalog contains mythology-themed t-shirts",
            "match": {
              "location": "step-definitions/catalog.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 13499
            },
            "embeddings": [
              {
                "data": "UHJvZHVjdCBjYXRhbG9nIHJlYWR5IHdpdGggdGVzdCBkYXRh",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 28,
            "name": "I select color \"Navy\" from the 30 standard colors",
            "match": {
              "location": "step-definitions/catalog.steps.ts:84"
            },
            "result": {
              "status": "passed",
              "duration": 22292
            },
            "embeddings": [
              {
                "data": "U2VsZWN0aW5nIGNvbG9yIE5hdnk=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 29,
            "name": "I should only see products available in Navy color",
            "match": {
              "location": "step-definitions/catalog.steps.ts:156"
            },
            "result": {
              "status": "passed",
              "duration": 17457
            },
            "embeddings": [
              {
                "data": "VmVyaWZpZWQgTmF2eSBjb2xvciBhdmFpbGFiaWxpdHk=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 30,
            "name": "the color selector should display all 30 standard options",
            "match": {
              "location": "step-definitions/catalog.steps.ts:164"
            },
            "result": {
              "status": "passed",
              "duration": 17540
            },
            "embeddings": [
              {
                "data": "VmVyaWZpZWQgMzAgY29sb3Igb3B0aW9ucyBkaXNwbGF5ZWQ=",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "browse-product-catalog;filter-products-by-price-range",
        "keyword": "Scenario",
        "line": 32,
        "name": "Filter products by price range",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the EpicWeave platform is available",
            "match": {
              "location": "step-definitions/auth.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 9332
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the product catalog contains mythology-themed t-shirts",
            "match": {
              "location": "step-definitions/catalog.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 13999
            },
            "embeddings": [
              {
                "data": "UHJvZHVjdCBjYXRhbG9nIHJlYWR5IHdpdGggdGVzdCBkYXRh",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 33,
            "name": "I set price range filter to \"$15 - $30\"",
            "match": {
              "location": "step-definitions/catalog.steps.ts:92"
            },
            "result": {
              "status": "passed",
              "duration": 24250
            },
            "embeddings": [
              {
                "data": "U2V0dGluZyBwcmljZSByYW5nZSB0byAkMTUgLSAkMzA=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 34,
            "name": "I should only see products priced between $15 and $30",
            "match": {
              "location": "step-definitions/catalog.steps.ts:172"
            },
            "result": {
              "status": "passed",
              "duration": 30957
            },
            "embeddings": [
              {
                "data": "VmVyaWZpZWQgcHJpY2UgcmFuZ2UgJDE1LSQzMA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 35,
            "name": "the results should use DynamoDB GSI2 for category+price queries",
            "match": {
              "location": "step-definitions/catalog.steps.ts:180"
            },
            "result": {
              "status": "passed",
              "duration": 17083
            },
            "embeddings": [
              {
                "data": "VmVyaWZpZWQgR1NJMiB1c2FnZSBmb3IgY2F0ZWdvcnkrcHJpY2U=",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "browse-product-catalog;filter-products-by-art-style",
        "keyword": "Scenario",
        "line": 37,
        "name": "Filter products by art style",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the EpicWeave platform is available",
            "match": {
              "location": "step-definitions/auth.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 9166
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the product catalog contains mythology-themed t-shirts",
            "match": {
              "location": "step-definitions/catalog.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 14542
            },
            "embeddings": [
              {
                "data": "UHJvZHVjdCBjYXRhbG9nIHJlYWR5IHdpdGggdGVzdCBkYXRh",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 38,
            "name": "I select \"Modern\" art style filter",
            "match": {
              "location": "step-definitions/catalog.steps.ts:100"
            },
            "result": {
              "status": "passed",
              "duration": 22790
            },
            "embeddings": [
              {
                "data": "U2VsZWN0aW5nIE1vZGVybiBhcnQgc3R5bGUgZmlsdGVy",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 39,
            "name": "I should only see products with modern art style",
            "match": {
              "location": "step-definitions/catalog.steps.ts:188"
            },
            "result": {
              "status": "passed",
              "duration": 17250
            },
            "embeddings": [
              {
                "data": "VmVyaWZpZWQgbW9kZXJuIGFydCBzdHlsZSBmaWx0ZXI=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 40,
            "name": "I select \"Anime\" art style filter",
            "match": {
              "location": "step-definitions/catalog.steps.ts:100"
            },
            "result": {
              "status": "passed",
              "duration": 15124
            },
            "embeddings": [
              {
                "data": "U2VsZWN0aW5nIEFuaW1lIGFydCBzdHlsZSBmaWx0ZXI=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 41,
            "name": "I should only see products with anime art style",
            "match": {
              "location": "step-definitions/catalog.steps.ts:196"
            },
            "result": {
              "status": "passed",
              "duration": 18000
            },
            "embeddings": [
              {
                "data": "VmVyaWZpZWQgYW5pbWUgYXJ0IHN0eWxlIGZpbHRlcg==",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "browse-product-catalog;combine-multiple-filters",
        "keyword": "Scenario",
        "line": 43,
        "name": "Combine multiple filters",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the EpicWeave platform is available",
            "match": {
              "location": "step-definitions/auth.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 9250
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the product catalog contains mythology-themed t-shirts",
            "match": {
              "location": "step-definitions/catalog.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 13957
            },
            "embeddings": [
              {
                "data": "UHJvZHVjdCBjYXRhbG9nIHJlYWR5IHdpdGggdGVzdCBkYXRh",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 44,
            "name": "I select \"Greek\" mythology filter",
            "match": {
              "location": "step-definitions/catalog.steps.ts:67"
            },
            "result": {
              "status": "passed",
              "duration": 18958
            },
            "embeddings": [
              {
                "data": "U2VsZWN0aW5nIEdyZWVrIG15dGhvbG9neSBmaWx0ZXI=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 45,
            "name": "I select size \"M\" filter",
            "match": {
              "location": "step-definitions/catalog.steps.ts:76"
            },
            "result": {
              "status": "passed",
              "duration": 16124
            },
            "embeddings": [
              {
                "data": "U2VsZWN0aW5nIHNpemUgTSBmaWx0ZXI=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 46,
            "name": "I select color \"Black\" filter",
            "match": {
              "location": "step-definitions/shared.steps.ts:228"
            },
            "result": {
              "status": "passed",
              "duration": 22625
            },
            "embeddings": [
              {
                "data": "Q29sb3IgZmlsdGVyOiBCbGFjaw==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 47,
            "name": "I should see only Greek mythology products in size M and Black color",
            "match": {
              "location": "step-definitions/catalog.steps.ts:204"
            },
            "result": {
              "status": "passed",
              "duration": 18249
            },
            "embeddings": [
              {
                "data": "VmVyaWZpZWQgY29tYmluZWQgbXl0aG9sb2d5L3NpemUvY29sb3IgZmlsdGVycw==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 48,
            "name": "the filter count should be displayed",
            "match": {
              "location": "step-definitions/catalog.steps.ts:212"
            },
            "result": {
              "status": "passed",
              "duration": 16958
            },
            "embeddings": [
              {
                "data": "VmVyaWZpZWQgZmlsdGVyIGNvdW50IGRpc3BsYXk=",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "browse-product-catalog;clear-all-filters",
        "keyword": "Scenario",
        "line": 50,
        "name": "Clear all filters",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the EpicWeave platform is available",
            "match": {
              "location": "step-definitions/auth.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 9416
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the product catalog contains mythology-themed t-shirts",
            "match": {
              "location": "step-definitions/catalog.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 14459
            },
            "embeddings": [
              {
                "data": "UHJvZHVjdCBjYXRhbG9nIHJlYWR5IHdpdGggdGVzdCBkYXRh",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 51,
            "name": "I have applied multiple filters",
            "match": {
              "location": "step-definitions/shared.steps.ts:779"
            },
            "result": {
              "status": "passed",
              "duration": 18666
            },
            "embeddings": [
              {
                "data": "TXVsdGlwbGUgZmlsdGVycyBhcHBsaWVk",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 52,
            "name": "I click \"Clear All Filters\"",
            "match": {
              "location": "step-definitions/shared.steps.ts:677"
            },
            "result": {
              "status": "passed",
              "duration": 17624
            },
            "embeddings": [
              {
                "data": "Q2xpY2tpbmc6IENsZWFyIEFsbCBGaWx0ZXJz",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 53,
            "name": "all filters should be removed",
            "match": {
              "location": "step-definitions/catalog.steps.ts:220"
            },
            "result": {
              "status": "passed",
              "duration": 17333
            },
            "embeddings": [
              {
                "data": "VmVyaWZpZWQgZmlsdGVycyBjbGVhcmVk",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 54,
            "name": "I should see the full product catalog",
            "match": {
              "location": "step-definitions/catalog.steps.ts:225"
            },
            "result": {
              "status": "passed",
              "duration": 17000
            },
            "embeddings": [
              {
                "data": "VmVyaWZpZWQgZnVsbCBjYXRhbG9nIGRpc3BsYXk=",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "browse-product-catalog;products-display-correctly-on-mobile",
        "keyword": "Scenario",
        "line": 56,
        "name": "Products display correctly on mobile",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the EpicWeave platform is available",
            "match": {
              "location": "step-definitions/auth.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 9082
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the product catalog contains mythology-themed t-shirts",
            "match": {
              "location": "step-definitions/catalog.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 13584
            },
            "embeddings": [
              {
                "data": "UHJvZHVjdCBjYXRhbG9nIHJlYWR5IHdpdGggdGVzdCBkYXRh",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 57,
            "name": "I am viewing the catalog on a mobile device",
            "match": {
              "location": "step-definitions/catalog.steps.ts:251"
            },
            "result": {
              "status": "passed",
              "duration": 17374
            },
            "embeddings": [
              {
                "data": "U2V0IG1vYmlsZSB2aWV3cG9ydA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 58,
            "name": "the product grid should be responsive",
            "match": {
              "location": "step-definitions/catalog.steps.ts:259"
            },
            "result": {
              "status": "passed",
              "duration": 16458
            },
            "embeddings": [
              {
                "data": "VmVyaWZpZWQgcmVzcG9uc2l2ZSBncmlk",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 59,
            "name": "products should display in a single column layout",
            "match": {
              "location": "step-definitions/catalog.steps.ts:267"
            },
            "result": {
              "status": "passed",
              "duration": 17333
            },
            "embeddings": [
              {
                "data": "VmVyaWZpZWQgc2luZ2xlIGNvbHVtbiBtb2JpbGUgbGF5b3V0",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 60,
            "name": "images should be optimized for mobile",
            "match": {
              "location": "step-definitions/catalog.steps.ts:275"
            },
            "result": {
              "status": "passed",
              "duration": 17165
            },
            "embeddings": [
              {
                "data": "VmVyaWZpZWQgbW9iaWxlIGltYWdlIG9wdGltaXphdGlvbg==",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "browse-product-catalog;pagination-for-large-catalogs",
        "keyword": "Scenario",
        "line": 62,
        "name": "Pagination for large catalogs",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the EpicWeave platform is available",
            "match": {
              "location": "step-definitions/auth.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 9250
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the product catalog contains mythology-themed t-shirts",
            "match": {
              "location": "step-definitions/catalog.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 13584
            },
            "embeddings": [
              {
                "data": "UHJvZHVjdCBjYXRhbG9nIHJlYWR5IHdpdGggdGVzdCBkYXRh",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 63,
            "name": "the catalog contains more than 20 products",
            "match": {
              "location": "step-definitions/catalog.steps.ts:22"
            },
            "result": {
              "status": "passed",
              "duration": 30042
            },
            "embeddings": [
              {
                "data": "Q2F0YWxvZyBoYXMgbW9yZSB0aGFuIDIwIHByb2R1Y3Rz",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 64,
            "name": "I scroll to the bottom of the page",
            "match": {
              "location": "step-definitions/catalog.steps.ts:115"
            },
            "result": {
              "status": "passed",
              "duration": 17084
            },
            "embeddings": [
              {
                "data": "U2Nyb2xsaW5nIHRvIGJvdHRvbSBvZiBwYWdl",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 65,
            "name": "the next page of products should load automatically",
            "match": {
              "location": "step-definitions/catalog.steps.ts:284"
            },
            "result": {
              "status": "passed",
              "duration": 16666
            },
            "embeddings": [
              {
                "data": "VmVyaWZpZWQgYXV0by1wYWdpbmF0aW9u",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 66,
            "name": "the scroll position should be maintained",
            "match": {
              "location": "step-definitions/catalog.steps.ts:292"
            },
            "result": {
              "status": "passed",
              "duration": 18709
            },
            "embeddings": [
              {
                "data": "VmVyaWZpZWQgc2Nyb2xsIHBvc2l0aW9uIG1haW50YWluZWQ=",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      }
    ],
    "id": "browse-product-catalog",
    "line": 1,
    "keyword": "Feature",
    "name": "Browse Product Catalog",
    "tags": [],
    "uri": "features/functional/catalog/browse-products.feature"
  },
  {
    "description": "  As a customer\n  I want to complete my purchase with payment\n  So that I can receive my custom t-shirts",
    "elements": [
      {
        "description": "",
        "id": "checkout-payment-processing;successfully-place-order-with-valid-payment",
        "keyword": "Scenario",
        "line": 11,
        "name": "Successfully place order with valid payment",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 16874
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "I have items in my cart",
            "match": {
              "location": "step-definitions/cart-checkout.steps.ts:13"
            },
            "result": {
              "status": "passed",
              "duration": 20792
            },
            "embeddings": [
              {
                "data": "Q2FydCBoYXMgaXRlbXM=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "shipping is configured for US domestic only",
            "match": {
              "location": "step-definitions/shared.steps.ts:239"
            },
            "result": {
              "status": "passed",
              "duration": 17709
            },
            "embeddings": [
              {
                "data": "VVMgZG9tZXN0aWMgc2hpcHBpbmcgb25seQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 12,
            "name": "I navigate to checkout",
            "match": {
              "location": "step-definitions/shared.steps.ts:246"
            },
            "result": {
              "status": "passed",
              "duration": 16417
            },
            "embeddings": [
              {
                "data": "TmF2aWdhdGluZyB0byAvY2hlY2tvdXQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 13,
            "name": "I should see my cart summary with all items",
            "match": {
              "location": "step-definitions/shared.steps.ts:250"
            },
            "result": {
              "status": "passed",
              "duration": 17292
            },
            "embeddings": [
              {
                "data": "Q2FydCBzdW1tYXJ5IGRpc3BsYXllZA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "Field",
                      "Value"
                    ]
                  },
                  {
                    "cells": [
                      "Street",
                      "123 Main St"
                    ]
                  },
                  {
                    "cells": [
                      "City",
                      "New York"
                    ]
                  },
                  {
                    "cells": [
                      "State",
                      "NY"
                    ]
                  },
                  {
                    "cells": [
                      "Zip",
                      "10001"
                    ]
                  },
                  {
                    "cells": [
                      "Country",
                      "United States"
                    ]
                  }
                ]
              }
            ],
            "keyword": "When ",
            "line": 14,
            "name": "I enter US shipping address:",
            "match": {
              "location": "step-definitions/shared.steps.ts:257"
            },
            "result": {
              "status": "passed",
              "duration": 67082
            },
            "embeddings": [
              {
                "data": "U2hpcHBpbmc6IHsiRmllbGQiOiJWYWx1ZSIsIlN0cmVldCI6IjEyMyBNYWluIFN0IiwiQ2l0eSI6Ik5ldyBZb3JrIiwiU3RhdGUiOiJOWSIsIlppcCI6IjEwMDAxIiwiQ291bnRyeSI6IlVuaXRlZCBTdGF0ZXMifQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 21,
            "name": "I enter valid payment details via Stripe Elements",
            "match": {
              "location": "step-definitions/shared.steps.ts:265"
            },
            "result": {
              "status": "passed",
              "duration": 18541
            },
            "embeddings": [
              {
                "data": "U3RyaXBlIEVsZW1lbnRzIHBheW1lbnQgZGV0YWlscyBlbnRlcmVk",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 22,
            "name": "I click \"Place Order\"",
            "match": {
              "location": "step-definitions/shared.steps.ts:681"
            },
            "result": {
              "status": "passed",
              "duration": 17499
            },
            "embeddings": [
              {
                "data": "Q2xpY2tpbmc6IFBsYWNlIE9yZGVy",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 23,
            "name": "the Lambda should read shipping rates from Parameter Store",
            "match": {
              "location": "step-definitions/shared.steps.ts:272"
            },
            "result": {
              "status": "passed",
              "duration": 17957
            },
            "embeddings": [
              {
                "data": "UmVhZCAvRXBpY1dlYXZlL3NoaXBwaW5nL2ZsYXQtcmF0ZS1iYXNl",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 24,
            "name": "the Lambda should validate all items are in stock",
            "match": {
              "location": "step-definitions/shared.steps.ts:279"
            },
            "result": {
              "status": "passed",
              "duration": 16749
            },
            "embeddings": [
              {
                "data": "U3RvY2sgdmFsaWRhdGVkIGZvciBhbGwgY2FydCBpdGVtcw==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 25,
            "name": "a Stripe PaymentIntent should be created for the order total",
            "match": {
              "location": "step-definitions/cart-checkout.steps.ts:276"
            },
            "result": {
              "status": "passed",
              "duration": 21541
            },
            "embeddings": [
              {
                "data": "U3RyaXBlIFBheW1lbnRJbnRlbnQgY3JlYXRlZCBmb3Igb3JkZXI=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 26,
            "name": "payment is successful",
            "match": {
              "location": "step-definitions/shared.steps.ts:286"
            },
            "result": {
              "status": "passed",
              "duration": 16916
            },
            "embeddings": [
              {
                "data": "UGF5bWVudCBzdWNjZXNzZnVs",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "Action",
                      "Entity"
                    ]
                  },
                  {
                    "cells": [
                      "PUT",
                      "Order"
                    ]
                  },
                  {
                    "cells": [
                      "PUT",
                      "OrderItems (each)"
                    ]
                  },
                  {
                    "cells": [
                      "PUT",
                      "Payment"
                    ]
                  },
                  {
                    "cells": [
                      "UPDATE",
                      "ProductVariant stock"
                    ]
                  },
                  {
                    "cells": [
                      "DELETE",
                      "All CartItems"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Then ",
            "line": 27,
            "name": "a DynamoDB TransactWriteItems should execute atomically:",
            "match": {
              "location": "step-definitions/shared.steps.ts:290"
            },
            "result": {
              "status": "passed",
              "duration": 114749
            },
            "embeddings": [
              {
                "data": "VHJhbnNhY3Rpb246IFBVVCBPcmRlcg==",
                "mime_type": "text/plain"
              },
              {
                "data": "VHJhbnNhY3Rpb246IFBVVCBPcmRlckl0ZW1zIChlYWNoKQ==",
                "mime_type": "text/plain"
              },
              {
                "data": "VHJhbnNhY3Rpb246IFBVVCBQYXltZW50",
                "mime_type": "text/plain"
              },
              {
                "data": "VHJhbnNhY3Rpb246IFVQREFURSBQcm9kdWN0VmFyaWFudCBzdG9jaw==",
                "mime_type": "text/plain"
              },
              {
                "data": "VHJhbnNhY3Rpb246IERFTEVURSBBbGwgQ2FydEl0ZW1z",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 34,
            "name": "I should receive an order confirmation email via SES",
            "match": {
              "location": "step-definitions/shared.steps.ts:300"
            },
            "result": {
              "status": "passed",
              "duration": 22208
            },
            "embeddings": [
              {
                "data": "U0VTIGNvbmZpcm1hdGlvbiBlbWFpbCBzZW50",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 35,
            "name": "I should see the order confirmation page with order number",
            "match": {
              "location": "step-definitions/shared.steps.ts:307"
            },
            "result": {
              "status": "passed",
              "duration": 18540
            },
            "embeddings": [
              {
                "data": "T3JkZXIgY29uZmlybWF0aW9uIHBhZ2UgZGlzcGxheWVk",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 36,
            "name": "the order should have status \"paid\"",
            "match": {
              "location": "step-definitions/shared.steps.ts:314"
            },
            "result": {
              "status": "passed",
              "duration": 25958
            },
            "embeddings": [
              {
                "data": "T3JkZXIgc3RhdHVzOiBwYWlk",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "checkout-payment-processing;payment-fails---insufficient-funds",
        "keyword": "Scenario",
        "line": 38,
        "name": "Payment fails - insufficient funds",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 17333
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "I have items in my cart",
            "match": {
              "location": "step-definitions/cart-checkout.steps.ts:13"
            },
            "result": {
              "status": "passed",
              "duration": 13083
            },
            "embeddings": [
              {
                "data": "Q2FydCBoYXMgaXRlbXM=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "shipping is configured for US domestic only",
            "match": {
              "location": "step-definitions/shared.steps.ts:239"
            },
            "result": {
              "status": "passed",
              "duration": 13500
            },
            "embeddings": [
              {
                "data": "VVMgZG9tZXN0aWMgc2hpcHBpbmcgb25seQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 39,
            "name": "I proceed to checkout with valid shipping address",
            "match": {
              "location": "step-definitions/shared.steps.ts:321"
            },
            "result": {
              "status": "passed",
              "duration": 17374
            },
            "embeddings": [
              {
                "data": "UHJvY2VlZGluZyB0byBjaGVja291dCB3aXRoIHZhbGlkIGFkZHJlc3M=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 40,
            "name": "I enter payment details with insufficient funds",
            "match": {
              "location": "step-definitions/shared.steps.ts:739"
            },
            "result": {
              "status": "passed",
              "duration": 23582
            },
            "embeddings": [
              {
                "data": "RW50ZXJlZCBwYXltZW50IHdpdGggaW5zdWZmaWNpZW50IGZ1bmRz",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 41,
            "name": "I click \"Place Order\"",
            "match": {
              "location": "step-definitions/shared.steps.ts:681"
            },
            "result": {
              "status": "passed",
              "duration": 13291
            },
            "embeddings": [
              {
                "data": "Q2xpY2tpbmc6IFBsYWNlIE9yZGVy",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 42,
            "name": "the Stripe payment should fail",
            "match": {
              "location": "step-definitions/shared.steps.ts:746"
            },
            "result": {
              "status": "passed",
              "duration": 17625
            },
            "embeddings": [
              {
                "data": "U3RyaXBlIHBheW1lbnQgZmFpbGVk",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 43,
            "name": "I should see \"Payment failed: Insufficient funds\"",
            "match": {
              "location": "step-definitions/shared.steps.ts:696"
            },
            "result": {
              "status": "passed",
              "duration": 17542
            },
            "embeddings": [
              {
                "data": "RGlzcGxheWVkOiBwYXltZW50IGZhaWxlZA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 44,
            "name": "no Order should be created in DynamoDB",
            "match": {
              "location": "step-definitions/shared.steps.ts:328"
            },
            "result": {
              "status": "passed",
              "duration": 17333
            },
            "embeddings": [
              {
                "data": "Tm8gb3JkZXIgaW4gRHluYW1vREI=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 45,
            "name": "my cart items should remain intact",
            "match": {
              "location": "step-definitions/shared.steps.ts:335"
            },
            "result": {
              "status": "passed",
              "duration": 17416
            },
            "embeddings": [
              {
                "data": "Q2FydCB1bmNoYW5nZWQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 46,
            "name": "I should be able to retry with different payment method",
            "match": {
              "location": "step-definitions/shared.steps.ts:342"
            },
            "result": {
              "status": "passed",
              "duration": 20791
            },
            "embeddings": [
              {
                "data": "UmV0cnkgd2l0aCBkaWZmZXJlbnQgcGF5bWVudCBhdmFpbGFibGU=",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "checkout-payment-processing;stock-validation-fails-during-checkout",
        "keyword": "Scenario",
        "line": 48,
        "name": "Stock validation fails during checkout",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 13791
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "I have items in my cart",
            "match": {
              "location": "step-definitions/cart-checkout.steps.ts:13"
            },
            "result": {
              "status": "passed",
              "duration": 40708
            },
            "embeddings": [
              {
                "data": "Q2FydCBoYXMgaXRlbXM=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "shipping is configured for US domestic only",
            "match": {
              "location": "step-definitions/shared.steps.ts:239"
            },
            "result": {
              "status": "passed",
              "duration": 80874
            },
            "embeddings": [
              {
                "data": "VVMgZG9tZXN0aWMgc2hpcHBpbmcgb25seQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 49,
            "name": "one of my cart items goes out of stock",
            "match": {
              "location": "step-definitions/shared.steps.ts:349"
            },
            "result": {
              "status": "passed",
              "duration": 240749
            },
            "embeddings": [
              {
                "data": "Q2FydCBpdGVtIHdlbnQgb3V0IG9mIHN0b2Nr",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 50,
            "name": "I click \"Place Order\"",
            "match": {
              "location": "step-definitions/shared.steps.ts:681"
            },
            "result": {
              "status": "passed",
              "duration": 66791
            },
            "embeddings": [
              {
                "data": "Q2xpY2tpbmc6IFBsYWNlIE9yZGVy",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 51,
            "name": "the Lambda should perform final stock check",
            "match": {
              "location": "step-definitions/shared.steps.ts:356"
            },
            "result": {
              "status": "passed",
              "duration": 34124
            },
            "embeddings": [
              {
                "data": "RmluYWwgc3RvY2sgY2hlY2sgcGVyZm9ybWVk",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 52,
            "name": "it should return 409 Conflict with unavailable items list",
            "match": {
              "location": "step-definitions/shared.steps.ts:363"
            },
            "result": {
              "status": "passed",
              "duration": 37875
            },
            "embeddings": [
              {
                "data": "NDA5IENvbmZsaWN0IHdpdGggdW5hdmFpbGFibGUgaXRlbXM=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 53,
            "name": "I should see \"Some items are no longer available\"",
            "match": {
              "location": "step-definitions/shared.steps.ts:703"
            },
            "result": {
              "status": "passed",
              "duration": 21542
            },
            "embeddings": [
              {
                "data": "RGlzcGxheWVkOiBpdGVtcyB1bmF2YWlsYWJsZQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 54,
            "name": "the unavailable items should be highlighted",
            "match": {
              "location": "step-definitions/shared.steps.ts:370"
            },
            "result": {
              "status": "passed",
              "duration": 38916
            },
            "embeddings": [
              {
                "data": "VW5hdmFpbGFibGUgaXRlbXMgaGlnaGxpZ2h0ZWQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 55,
            "name": "I should be prompted to remove them",
            "match": {
              "location": "step-definitions/shared.steps.ts:377"
            },
            "result": {
              "status": "passed",
              "duration": 19792
            },
            "embeddings": [
              {
                "data": "UHJvbXB0ZWQgdG8gcmVtb3ZlIHVuYXZhaWxhYmxlIGl0ZW1z",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "checkout-payment-processing;calculate-shipping-costs-correctly",
        "keyword": "Scenario",
        "line": 57,
        "name": "Calculate shipping costs correctly",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 20667
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "I have items in my cart",
            "match": {
              "location": "step-definitions/cart-checkout.steps.ts:13"
            },
            "result": {
              "status": "passed",
              "duration": 15040
            },
            "embeddings": [
              {
                "data": "Q2FydCBoYXMgaXRlbXM=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "shipping is configured for US domestic only",
            "match": {
              "location": "step-definitions/shared.steps.ts:239"
            },
            "result": {
              "status": "passed",
              "duration": 14208
            },
            "embeddings": [
              {
                "data": "VVMgZG9tZXN0aWMgc2hpcHBpbmcgb25seQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 58,
            "name": "I proceed to checkout",
            "match": {
              "location": "step-definitions/cart-checkout.steps.ts:199"
            },
            "result": {
              "status": "passed",
              "duration": 23582
            },
            "embeddings": [
              {
                "data": "TmF2aWdhdGluZyB0byAvY2hlY2tvdXQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 59,
            "name": "the Lambda should read \"/EpicWeave/shipping/flat-rate-base\" from Parameter Store",
            "match": {
              "location": "step-definitions/shared.steps.ts:384"
            },
            "result": {
              "status": "passed",
              "duration": 29250
            },
            "embeddings": [
              {
                "data": "UmVhZCBmcm9tIFBhcmFtZXRlciBTdG9yZTogL0VwaWNXZWF2ZS9zaGlwcGluZy9mbGF0LXJhdGUtYmFzZQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 60,
            "name": "it should calculate: subtotal + tax + flat-rate + carrier-rate",
            "match": {
              "location": "step-definitions/shared.steps.ts:391"
            },
            "result": {
              "status": "passed",
              "duration": 21832
            },
            "embeddings": [
              {
                "data": "Q2FsY3VsYXRlZDogc3VidG90YWwgKyB0YXggKyBzaGlwcGluZw==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "Cost Type"
                    ]
                  },
                  {
                    "cells": [
                      "Subtotal"
                    ]
                  },
                  {
                    "cells": [
                      "Tax"
                    ]
                  },
                  {
                    "cells": [
                      "Shipping"
                    ]
                  },
                  {
                    "cells": [
                      "Total"
                    ]
                  }
                ]
              }
            ],
            "keyword": "And ",
            "line": 61,
            "name": "the order summary should show itemized costs:",
            "match": {
              "location": "step-definitions/shared.steps.ts:398"
            },
            "result": {
              "status": "passed",
              "duration": 47708
            },
            "embeddings": [
              {
                "data": "T3JkZXIgc3VtbWFyeTogU3VidG90YWw=",
                "mime_type": "text/plain"
              },
              {
                "data": "T3JkZXIgc3VtbWFyeTogVGF4",
                "mime_type": "text/plain"
              },
              {
                "data": "T3JkZXIgc3VtbWFyeTogU2hpcHBpbmc=",
                "mime_type": "text/plain"
              },
              {
                "data": "T3JkZXIgc3VtbWFyeTogVG90YWw=",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "checkout-payment-processing;non-us-shipping-address-is-rejected",
        "keyword": "Scenario",
        "line": 68,
        "name": "Non-US shipping address is rejected",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 16334
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "I have items in my cart",
            "match": {
              "location": "step-definitions/cart-checkout.steps.ts:13"
            },
            "result": {
              "status": "passed",
              "duration": 15416
            },
            "embeddings": [
              {
                "data": "Q2FydCBoYXMgaXRlbXM=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "shipping is configured for US domestic only",
            "match": {
              "location": "step-definitions/shared.steps.ts:239"
            },
            "result": {
              "status": "passed",
              "duration": 13457
            },
            "embeddings": [
              {
                "data": "VVMgZG9tZXN0aWMgc2hpcHBpbmcgb25seQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 69,
            "name": "I enter a shipping address with country \"Canada\"",
            "match": {
              "location": "step-definitions/shared.steps.ts:408"
            },
            "result": {
              "status": "passed",
              "duration": 23582
            },
            "embeddings": [
              {
                "data": "U2hpcHBpbmcgY291bnRyeTogQ2FuYWRh",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 70,
            "name": "I should see \"We currently only ship within the United States\"",
            "match": {
              "location": "step-definitions/shared.steps.ts:710"
            },
            "result": {
              "status": "passed",
              "duration": 18208
            },
            "embeddings": [
              {
                "data": "RGlzcGxheWVkOiBVUy1vbmx5IHNoaXBwaW5n",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 71,
            "name": "the Place Order button should be disabled",
            "match": {
              "location": "step-definitions/shared.steps.ts:415"
            },
            "result": {
              "status": "passed",
              "duration": 17958
            },
            "embeddings": [
              {
                "data": "UGxhY2UgT3JkZXIgYnV0dG9uIGRpc2FibGVk",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "checkout-payment-processing;session-fee-is-not-refunded-when-order-is-placed",
        "keyword": "Scenario",
        "line": 73,
        "name": "Session fee is NOT refunded when order is placed",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 14959
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "I have items in my cart",
            "match": {
              "location": "step-definitions/cart-checkout.steps.ts:13"
            },
            "result": {
              "status": "passed",
              "duration": 12374
            },
            "embeddings": [
              {
                "data": "Q2FydCBoYXMgaXRlbXM=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "shipping is configured for US domestic only",
            "match": {
              "location": "step-definitions/shared.steps.ts:239"
            },
            "result": {
              "status": "passed",
              "duration": 12708
            },
            "embeddings": [
              {
                "data": "VVMgZG9tZXN0aWMgc2hpcHBpbmcgb25seQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 74,
            "name": "I paid a $2 session fee for custom design",
            "match": {
              "location": "step-definitions/shared.steps.ts:422"
            },
            "result": {
              "status": "passed",
              "duration": 28917
            },
            "embeddings": [
              {
                "data": "U2Vzc2lvbiBmZWU6ICQy",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 75,
            "name": "I added the custom design to cart",
            "match": {
              "location": "step-definitions/shared.steps.ts:429"
            },
            "result": {
              "status": "passed",
              "duration": 21082
            },
            "embeddings": [
              {
                "data": "Q3VzdG9tIGRlc2lnbiBhZGRlZCB0byBjYXJ0",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 76,
            "name": "I complete the order",
            "match": {
              "location": "step-definitions/shared.steps.ts:436"
            },
            "result": {
              "status": "passed",
              "duration": 18083
            },
            "embeddings": [
              {
                "data": "T3JkZXIgY29tcGxldGVk",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 77,
            "name": "the order payment and session fee payment should be separate records",
            "match": {
              "location": "step-definitions/shared.steps.ts:440"
            },
            "result": {
              "status": "passed",
              "duration": 18625
            },
            "embeddings": [
              {
                "data": "U2VwYXJhdGUgcGF5bWVudCByZWNvcmRz",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 78,
            "name": "only the order payment should be eligible for refund",
            "match": {
              "location": "step-definitions/shared.steps.ts:447"
            },
            "result": {
              "status": "passed",
              "duration": 17583
            },
            "embeddings": [
              {
                "data": "T25seSBvcmRlciBwYXltZW50IHJlZnVuZGFibGU=",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      }
    ],
    "id": "checkout-payment-processing",
    "line": 1,
    "keyword": "Feature",
    "name": "Checkout Payment Processing",
    "tags": [],
    "uri": "features/functional/checkout/payment-processing.feature"
  },
  {
    "description": "  As a customer\n  I want to generate mythology-themed designs via AI (OpenAI DALL-E)\n  So that I can create custom t-shirts",
    "elements": [
      {
        "description": "",
        "id": "ai-design-image-generation;successfully-generate-an-image-from-a-valid-prompt",
        "keyword": "Scenario",
        "line": 12,
        "name": "Successfully generate an image from a valid prompt",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 13999
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "I have paid the $2.00 session fee via Stripe",
            "match": {
              "location": "step-definitions/design-session.steps.ts:20"
            },
            "result": {
              "status": "passed",
              "duration": 32416
            },
            "embeddings": [
              {
                "data": "UGFpZCAkMiBzZXNzaW9uIGZlZSB2aWEgU3RyaXBl",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "I selected \"anime\" as my art style",
            "match": {
              "location": "step-definitions/design-session.steps.ts:24"
            },
            "result": {
              "status": "passed",
              "duration": 22291
            },
            "embeddings": [
              {
                "data": "QXJ0IHN0eWxlIHNlbGVjdGVkOiBhbmltZQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 10,
            "name": "I am in an active design session with 5 max iterations",
            "match": {
              "location": "step-definitions/design-session.steps.ts:28"
            },
            "result": {
              "status": "passed",
              "duration": 65999
            },
            "embeddings": [
              {
                "data": "QWN0aXZlIHNlc3Npb24gdGVzdC1zZXNzaW9uLTEyMyB3aXRoIDUgbWF4IGl0ZXJhdGlvbnM=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 13,
            "name": "I enter the prompt \"Lord Shiva meditating on Mount Kailash\"",
            "match": {
              "location": "step-definitions/design-session.steps.ts:115"
            },
            "result": {
              "status": "passed",
              "duration": 48458
            },
            "embeddings": [
              {
                "data": "VXNlciBwcm9tcHQ6IExvcmQgU2hpdmEgbWVkaXRhdGluZyBvbiBNb3VudCBLYWlsYXNo",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 14,
            "name": "the system should validate the prompt against content rules",
            "match": {
              "location": "step-definitions/design-session.steps.ts:119"
            },
            "result": {
              "status": "passed",
              "duration": 17624
            },
            "embeddings": [
              {
                "data": "Q29udGVudCBydWxlcyB2YWxpZGF0ZWQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 15,
            "name": "the prompt should be enqueued to SQS for DALL-E generation",
            "match": {
              "location": "step-definitions/design-session.steps.ts:123"
            },
            "result": {
              "status": "passed",
              "duration": 17499
            },
            "embeddings": [
              {
                "data": "UHJvbXB0IGVucXVldWVkIHRvIFNRUw==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 16,
            "name": "I should see a \"Generating design...\" spinner",
            "match": {
              "location": "step-definitions/design-session.steps.ts:127"
            },
            "result": {
              "status": "passed",
              "duration": 26375
            },
            "embeddings": [
              {
                "data": "U3Bpbm5lciBkaXNwbGF5ZWQ6IEdlbmVyYXRpbmcgZGVzaWduLi4u",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 17,
            "name": "the Lambda AI worker processes the SQS message",
            "match": {
              "location": "step-definitions/design-session.steps.ts:131"
            },
            "result": {
              "status": "passed",
              "duration": 16958
            },
            "embeddings": [
              {
                "data": "TGFtYmRhIEFJIHdvcmtlciBwcm9jZXNzaW5nIFNRUyBtZXNzYWdl",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 18,
            "name": "it should read image-resolution \"1024x1024\" from Parameter Store",
            "match": {
              "location": "step-definitions/design-session.steps.ts:135"
            },
            "result": {
              "status": "passed",
              "duration": 24291
            },
            "embeddings": [
              {
                "data": "UmVhZCBpbWFnZSByZXNvbHV0aW9uOiAxMDI0eDEwMjQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 19,
            "name": "it should call OpenAI DALL-E API with the enhanced prompt",
            "match": {
              "location": "step-definitions/design-session.steps.ts:139"
            },
            "result": {
              "status": "passed",
              "duration": 18416
            },
            "embeddings": [
              {
                "data": "Q2FsbGVkIE9wZW5BSSBEQUxMLUUgQVBJ",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 20,
            "name": "the generated image should be uploaded to S3 bucket \"epicweave-designs/<sessionId>/<ulid>.png\"",
            "match": {
              "location": "step-definitions/design-session.steps.ts:143"
            },
            "result": {
              "status": "passed",
              "duration": 23792
            },
            "embeddings": [
              {
                "data": "SW1hZ2UgdXBsb2FkZWQgdG8gUzM6IGVwaWN3ZWF2ZS1kZXNpZ25zLzxzZXNzaW9uSWQ+Lzx1bGlkPi5wbmc=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 21,
            "name": "a DesignMessage should be saved in DynamoDB with role \"assistant\"",
            "match": {
              "location": "step-definitions/design-session.steps.ts:147"
            },
            "result": {
              "status": "passed",
              "duration": 24583
            },
            "embeddings": [
              {
                "data": "RHluYW1vREIgRGVzaWduTWVzc2FnZSBzYXZlZCB3aXRoIHJvbGU6IGFzc2lzdGFudA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 22,
            "name": "the session iteration count should increment to \"1 of 5\"",
            "match": {
              "location": "step-definitions/design-session.steps.ts:151"
            },
            "result": {
              "status": "passed",
              "duration": 23208
            },
            "embeddings": [
              {
                "data": "SXRlcmF0aW9uIGNvdW50OiAxIG9mIDU=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 23,
            "name": "I receive the image URL via polling",
            "match": {
              "location": "step-definitions/design-session.steps.ts:155"
            },
            "result": {
              "status": "passed",
              "duration": 18583
            },
            "embeddings": [
              {
                "data": "SW1hZ2UgVVJMIHJlY2VpdmVkIHZpYSBwb2xsaW5nIEdFVCAvc2Vzc2lvbnMve2lkfS9zdGF0dXM=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 24,
            "name": "I should see the generated image displayed on a t-shirt mockup",
            "match": {
              "location": "step-definitions/design-session.steps.ts:159"
            },
            "result": {
              "status": "passed",
              "duration": 19124
            },
            "embeddings": [
              {
                "data": "VC1zaGlydCBtb2NrdXAgZGlzcGxheWVkIHdpdGggZ2VuZXJhdGVkIGltYWdl",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "ai-design-image-generation;reject-a-prompt-that-does-not-reference-hindu-or-greek-mythology",
        "keyword": "Scenario",
        "line": 26,
        "name": "Reject a prompt that does not reference Hindu or Greek mythology",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 21957
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "I have paid the $2.00 session fee via Stripe",
            "match": {
              "location": "step-definitions/design-session.steps.ts:20"
            },
            "result": {
              "status": "passed",
              "duration": 15583
            },
            "embeddings": [
              {
                "data": "UGFpZCAkMiBzZXNzaW9uIGZlZSB2aWEgU3RyaXBl",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "I selected \"anime\" as my art style",
            "match": {
              "location": "step-definitions/design-session.steps.ts:24"
            },
            "result": {
              "status": "passed",
              "duration": 15249
            },
            "embeddings": [
              {
                "data": "QXJ0IHN0eWxlIHNlbGVjdGVkOiBhbmltZQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 10,
            "name": "I am in an active design session with 5 max iterations",
            "match": {
              "location": "step-definitions/design-session.steps.ts:28"
            },
            "result": {
              "status": "passed",
              "duration": 14416
            },
            "embeddings": [
              {
                "data": "QWN0aXZlIHNlc3Npb24gdGVzdC1zZXNzaW9uLTEyMyB3aXRoIDUgbWF4IGl0ZXJhdGlvbnM=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 27,
            "name": "I enter the prompt \"A cool dragon in space\"",
            "match": {
              "location": "step-definitions/design-session.steps.ts:115"
            },
            "result": {
              "status": "passed",
              "duration": 15124
            },
            "embeddings": [
              {
                "data": "VXNlciBwcm9tcHQ6IEEgY29vbCBkcmFnb24gaW4gc3BhY2U=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 28,
            "name": "the Lambda should read allowed mythology types from Parameter Store",
            "match": {
              "location": "step-definitions/design-session.steps.ts:164"
            },
            "result": {
              "status": "passed",
              "duration": 17500
            },
            "embeddings": [
              {
                "data": "UmVhZCAvRXBpY1dlYXZlL215dGhvbG9neS9hbGxvd2VkLXR5cGVzIGZyb20gUGFyYW1ldGVyIFN0b3Jl",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 29,
            "name": "the system should reject the prompt",
            "match": {
              "location": "step-definitions/design-session.steps.ts:168"
            },
            "result": {
              "status": "passed",
              "duration": 18749
            },
            "embeddings": [
              {
                "data": "UHJvbXB0IHJlamVjdGVkIGJ5IGNvbnRlbnQgcnVsZXM=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 30,
            "name": "I should see the message \"Design must relate to Hindu or Greek mythology\"",
            "match": {
              "location": "step-definitions/design-session.steps.ts:172"
            },
            "result": {
              "status": "passed",
              "duration": 21625
            },
            "embeddings": [
              {
                "data": "TWVzc2FnZSBkaXNwbGF5ZWQ6IERlc2lnbiBtdXN0IHJlbGF0ZSB0byBIaW5kdSBvciBHcmVlayBteXRob2xvZ3k=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 31,
            "name": "the session iteration count should not change",
            "match": {
              "location": "step-definitions/design-session.steps.ts:176"
            },
            "result": {
              "status": "passed",
              "duration": 285959
            },
            "embeddings": [
              {
                "data": "SXRlcmF0aW9uIGNvdW50IHVuY2hhbmdlZA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 32,
            "name": "no SQS message should be sent",
            "match": {
              "location": "step-definitions/design-session.steps.ts:180"
            },
            "result": {
              "status": "passed",
              "duration": 97750
            },
            "embeddings": [
              {
                "data": "Tm8gU1FTIG1lc3NhZ2Ugc2VudA==",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "ai-design-image-generation;modify-an-existing-design",
        "keyword": "Scenario",
        "line": 34,
        "name": "Modify an existing design",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 22833
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "I have paid the $2.00 session fee via Stripe",
            "match": {
              "location": "step-definitions/design-session.steps.ts:20"
            },
            "result": {
              "status": "passed",
              "duration": 15709
            },
            "embeddings": [
              {
                "data": "UGFpZCAkMiBzZXNzaW9uIGZlZSB2aWEgU3RyaXBl",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "I selected \"anime\" as my art style",
            "match": {
              "location": "step-definitions/design-session.steps.ts:24"
            },
            "result": {
              "status": "passed",
              "duration": 15625
            },
            "embeddings": [
              {
                "data": "QXJ0IHN0eWxlIHNlbGVjdGVkOiBhbmltZQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 10,
            "name": "I am in an active design session with 5 max iterations",
            "match": {
              "location": "step-definitions/design-session.steps.ts:28"
            },
            "result": {
              "status": "passed",
              "duration": 15542
            },
            "embeddings": [
              {
                "data": "QWN0aXZlIHNlc3Npb24gdGVzdC1zZXNzaW9uLTEyMyB3aXRoIDUgbWF4IGl0ZXJhdGlvbnM=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 35,
            "name": "I have a generated design in the current session",
            "match": {
              "location": "step-definitions/design-session.steps.ts:38"
            },
            "result": {
              "status": "passed",
              "duration": 20166
            },
            "embeddings": [
              {
                "data": "RGVzaWduIGdlbmVyYXRlZCBpbiBjdXJyZW50IHNlc3Npb24=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 36,
            "name": "I enter the prompt \"Make the background a sunset with cherry blossoms\"",
            "match": {
              "location": "step-definitions/design-session.steps.ts:115"
            },
            "result": {
              "status": "passed",
              "duration": 15250
            },
            "embeddings": [
              {
                "data": "VXNlciBwcm9tcHQ6IE1ha2UgdGhlIGJhY2tncm91bmQgYSBzdW5zZXQgd2l0aCBjaGVycnkgYmxvc3NvbXM=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 37,
            "name": "the system should generate a modified image within 30 seconds",
            "match": {
              "location": "step-definitions/shared.steps.ts:458"
            },
            "result": {
              "status": "passed",
              "duration": 27625
            },
            "embeddings": [
              {
                "data": "TW9kaWZpZWQgaW1hZ2UgZ2VuZXJhdGVkIHdpdGhpbiAzMHM=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 38,
            "name": "the iteration count should increment to \"2 of 5\"",
            "match": {
              "location": "step-definitions/shared.steps.ts:465"
            },
            "result": {
              "status": "passed",
              "duration": 22500
            },
            "embeddings": [
              {
                "data": "SXRlcmF0aW9uIGNvdW50OiAyIG9mIDU=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 39,
            "name": "I should see the updated image on the t-shirt mockup",
            "match": {
              "location": "step-definitions/shared.steps.ts:472"
            },
            "result": {
              "status": "passed",
              "duration": 19791
            },
            "embeddings": [
              {
                "data": "VXBkYXRlZCBpbWFnZSBvbiBtb2NrdXA=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 40,
            "name": "both images should be preserved in the session history",
            "match": {
              "location": "step-definitions/shared.steps.ts:479"
            },
            "result": {
              "status": "passed",
              "duration": 17209
            },
            "embeddings": [
              {
                "data": "Qm90aCBpbWFnZXMgcHJlc2VydmVkIGluIGhpc3Rvcnk=",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "ai-design-image-generation;reach-maximum-iteration-limit-(5-iterations)",
        "keyword": "Scenario",
        "line": 42,
        "name": "Reach maximum iteration limit (5 iterations)",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 15207
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "I have paid the $2.00 session fee via Stripe",
            "match": {
              "location": "step-definitions/design-session.steps.ts:20"
            },
            "result": {
              "status": "passed",
              "duration": 16041
            },
            "embeddings": [
              {
                "data": "UGFpZCAkMiBzZXNzaW9uIGZlZSB2aWEgU3RyaXBl",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "I selected \"anime\" as my art style",
            "match": {
              "location": "step-definitions/design-session.steps.ts:24"
            },
            "result": {
              "status": "passed",
              "duration": 14708
            },
            "embeddings": [
              {
                "data": "QXJ0IHN0eWxlIHNlbGVjdGVkOiBhbmltZQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 10,
            "name": "I am in an active design session with 5 max iterations",
            "match": {
              "location": "step-definitions/design-session.steps.ts:28"
            },
            "result": {
              "status": "passed",
              "duration": 13833
            },
            "embeddings": [
              {
                "data": "QWN0aXZlIHNlc3Npb24gdGVzdC1zZXNzaW9uLTEyMyB3aXRoIDUgbWF4IGl0ZXJhdGlvbnM=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 43,
            "name": "I have used all 5 available iterations in the session",
            "match": {
              "location": "step-definitions/design-session.steps.ts:42"
            },
            "result": {
              "status": "passed",
              "duration": 21832
            },
            "embeddings": [
              {
                "data": "VXNlZCA1LzUgaXRlcmF0aW9ucw==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 44,
            "name": "I try to enter a new modification prompt",
            "match": {
              "location": "step-definitions/design-session.steps.ts:185"
            },
            "result": {
              "status": "passed",
              "duration": 17791
            },
            "embeddings": [
              {
                "data": "QXR0ZW1wdGluZyBuZXcgcHJvbXB0IGF0IG1heCBpdGVyYXRpb25z",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 45,
            "name": "the Lambda should return 429 \"Max iterations reached\"",
            "match": {
              "location": "step-definitions/design-session.steps.ts:189"
            },
            "result": {
              "status": "passed",
              "duration": 29749
            },
            "embeddings": [
              {
                "data": "TGFtYmRhIHJldHVybmVkIDQyOTogTWF4IGl0ZXJhdGlvbnMgcmVhY2hlZA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 46,
            "name": "I should see the message \"Maximum design iterations reached (5/5)\"",
            "match": {
              "location": "step-definitions/design-session.steps.ts:172"
            },
            "result": {
              "status": "passed",
              "duration": 15791
            },
            "embeddings": [
              {
                "data": "TWVzc2FnZSBkaXNwbGF5ZWQ6IE1heGltdW0gZGVzaWduIGl0ZXJhdGlvbnMgcmVhY2hlZCAoNS81KQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 47,
            "name": "I should be prompted to select color, size, and print placement",
            "match": {
              "location": "step-definitions/shared.steps.ts:486"
            },
            "result": {
              "status": "passed",
              "duration": 19625
            },
            "embeddings": [
              {
                "data": "UHJvbXB0ZWQgdG8gc2VsZWN0IGNvbG9yL3NpemUvcGxhY2VtZW50",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 48,
            "name": "the prompt input should be disabled",
            "match": {
              "location": "step-definitions/design-session.steps.ts:193"
            },
            "result": {
              "status": "passed",
              "duration": 16709
            },
            "embeddings": [
              {
                "data": "UHJvbXB0IGlucHV0IGRpc2FibGVk",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "ai-design-image-generation;session-expires-after-1-hour-of-inactivity",
        "keyword": "Scenario",
        "line": 50,
        "name": "Session expires after 1 hour of inactivity",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 13959
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "I have paid the $2.00 session fee via Stripe",
            "match": {
              "location": "step-definitions/design-session.steps.ts:20"
            },
            "result": {
              "status": "passed",
              "duration": 14374
            },
            "embeddings": [
              {
                "data": "UGFpZCAkMiBzZXNzaW9uIGZlZSB2aWEgU3RyaXBl",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "I selected \"anime\" as my art style",
            "match": {
              "location": "step-definitions/design-session.steps.ts:24"
            },
            "result": {
              "status": "passed",
              "duration": 17250
            },
            "embeddings": [
              {
                "data": "QXJ0IHN0eWxlIHNlbGVjdGVkOiBhbmltZQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 10,
            "name": "I am in an active design session with 5 max iterations",
            "match": {
              "location": "step-definitions/design-session.steps.ts:28"
            },
            "result": {
              "status": "passed",
              "duration": 16292
            },
            "embeddings": [
              {
                "data": "QWN0aXZlIHNlc3Npb24gdGVzdC1zZXNzaW9uLTEyMyB3aXRoIDUgbWF4IGl0ZXJhdGlvbnM=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 51,
            "name": "my session was created 61 minutes ago",
            "match": {
              "location": "step-definitions/design-session.steps.ts:46"
            },
            "result": {
              "status": "passed",
              "duration": 25249
            },
            "embeddings": [
              {
                "data": "U2Vzc2lvbiBjcmVhdGVkIDYxIG1pbnV0ZXMgYWdv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 52,
            "name": "I try to enter a new prompt",
            "match": {
              "location": "step-definitions/design-session.steps.ts:198"
            },
            "result": {
              "status": "passed",
              "duration": 17333
            },
            "embeddings": [
              {
                "data": "QXR0ZW1wdGluZyBuZXcgcHJvbXB0IGFmdGVyIHNlc3Npb24gZXhwaXJ5",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 53,
            "name": "the Lambda should check expiresAt > now",
            "match": {
              "location": "step-definitions/design-session.steps.ts:202"
            },
            "result": {
              "status": "passed",
              "duration": 16832
            },
            "embeddings": [
              {
                "data": "TGFtYmRhIGNoZWNrZWQgVFRMIGV4cGlyeQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 54,
            "name": "the Lambda should return 410 Gone",
            "match": {
              "location": "step-definitions/shared.steps.ts:493"
            },
            "result": {
              "status": "passed",
              "duration": 72249
            },
            "embeddings": [
              {
                "data": "TGFtYmRhIHJldHVybmVkIDQxMCBHb25l",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 55,
            "name": "I should see the message \"Session expired\"",
            "match": {
              "location": "step-definitions/design-session.steps.ts:172"
            },
            "result": {
              "status": "passed",
              "duration": 15333
            },
            "embeddings": [
              {
                "data": "TWVzc2FnZSBkaXNwbGF5ZWQ6IFNlc3Npb24gZXhwaXJlZA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 56,
            "name": "the session status in DynamoDB should be \"expired\"",
            "match": {
              "location": "step-definitions/design-session.steps.ts:206"
            },
            "result": {
              "status": "passed",
              "duration": 22375
            },
            "embeddings": [
              {
                "data": "U2Vzc2lvbiBzdGF0dXMgaW4gRHluYW1vREI6IGV4cGlyZWQ=",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "ai-design-image-generation;content-safety-filter-blocks-inappropriate-prompt",
        "keyword": "Scenario",
        "line": 58,
        "name": "Content safety filter blocks inappropriate prompt",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 13792
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "I have paid the $2.00 session fee via Stripe",
            "match": {
              "location": "step-definitions/design-session.steps.ts:20"
            },
            "result": {
              "status": "passed",
              "duration": 14375
            },
            "embeddings": [
              {
                "data": "UGFpZCAkMiBzZXNzaW9uIGZlZSB2aWEgU3RyaXBl",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "I selected \"anime\" as my art style",
            "match": {
              "location": "step-definitions/design-session.steps.ts:24"
            },
            "result": {
              "status": "passed",
              "duration": 14917
            },
            "embeddings": [
              {
                "data": "QXJ0IHN0eWxlIHNlbGVjdGVkOiBhbmltZQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 10,
            "name": "I am in an active design session with 5 max iterations",
            "match": {
              "location": "step-definitions/design-session.steps.ts:28"
            },
            "result": {
              "status": "passed",
              "duration": 14834
            },
            "embeddings": [
              {
                "data": "QWN0aXZlIHNlc3Npb24gdGVzdC1zZXNzaW9uLTEyMyB3aXRoIDUgbWF4IGl0ZXJhdGlvbnM=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 59,
            "name": "I enter a prompt with inappropriate content",
            "match": {
              "location": "step-definitions/design-session.steps.ts:236"
            },
            "result": {
              "status": "passed",
              "duration": 101749
            },
            "embeddings": [
              {
                "data": "RW50ZXJlZCBpbmFwcHJvcHJpYXRlIHByb21wdA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 60,
            "name": "the content safety filter should reject it",
            "match": {
              "location": "step-definitions/design-session.steps.ts:240"
            },
            "result": {
              "status": "passed",
              "duration": 24624
            },
            "embeddings": [
              {
                "data": "U2FmZXR5IGZpbHRlciB0cmlnZ2VyZWQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 61,
            "name": "I should see \"Content policy violation\"",
            "match": {
              "location": "step-definitions/shared.steps.ts:717"
            },
            "result": {
              "status": "passed",
              "duration": 21832
            },
            "embeddings": [
              {
                "data": "RGlzcGxheWVkOiBjb250ZW50IHBvbGljeSB2aW9sYXRpb24=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 62,
            "name": "no image generation should occur",
            "match": {
              "location": "step-definitions/design-session.steps.ts:244"
            },
            "result": {
              "status": "passed",
              "duration": 21875
            },
            "embeddings": [
              {
                "data": "Tm8gZ2VuZXJhdGlvbiBvY2N1cnJlZA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 63,
            "name": "the iteration count should not change",
            "match": {
              "location": "step-definitions/design-session.steps.ts:248"
            },
            "result": {
              "status": "passed",
              "duration": 41833
            },
            "embeddings": [
              {
                "data": "SXRlcmF0aW9uIGNvdW50IHVuY2hhbmdlZA==",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "ai-design-image-generation;art-style-enforcement-applies-correctly",
        "keyword": "Scenario",
        "line": 65,
        "name": "Art style enforcement applies correctly",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 21666
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "I have paid the $2.00 session fee via Stripe",
            "match": {
              "location": "step-definitions/design-session.steps.ts:20"
            },
            "result": {
              "status": "passed",
              "duration": 19375
            },
            "embeddings": [
              {
                "data": "UGFpZCAkMiBzZXNzaW9uIGZlZSB2aWEgU3RyaXBl",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "I selected \"anime\" as my art style",
            "match": {
              "location": "step-definitions/design-session.steps.ts:24"
            },
            "result": {
              "status": "passed",
              "duration": 17166
            },
            "embeddings": [
              {
                "data": "QXJ0IHN0eWxlIHNlbGVjdGVkOiBhbmltZQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 10,
            "name": "I am in an active design session with 5 max iterations",
            "match": {
              "location": "step-definitions/design-session.steps.ts:28"
            },
            "result": {
              "status": "passed",
              "duration": 27292
            },
            "embeddings": [
              {
                "data": "QWN0aXZlIHNlc3Npb24gdGVzdC1zZXNzaW9uLTEyMyB3aXRoIDUgbWF4IGl0ZXJhdGlvbnM=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 66,
            "name": "I selected \"modern\" art style at session start",
            "match": {
              "location": "step-definitions/design-session.steps.ts:50"
            },
            "result": {
              "status": "passed",
              "duration": 33041
            },
            "embeddings": [
              {
                "data": "QXJ0IHN0eWxlIGF0IHN0YXJ0OiBtb2Rlcm4=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 67,
            "name": "I enter the prompt \"Zeus wielding lightning\"",
            "match": {
              "location": "step-definitions/design-session.steps.ts:115"
            },
            "result": {
              "status": "passed",
              "duration": 24665
            },
            "embeddings": [
              {
                "data": "VXNlciBwcm9tcHQ6IFpldXMgd2llbGRpbmcgbGlnaHRuaW5n",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 68,
            "name": "the Lambda should prepend \"Create a modern-styled depiction of\"",
            "match": {
              "location": "step-definitions/design-session.steps.ts:253"
            },
            "result": {
              "status": "passed",
              "duration": 29624
            },
            "embeddings": [
              {
                "data": "UHJvbXB0IGVuaGFuY2VkIHdpdGggcHJlZml4OiBDcmVhdGUgYSBtb2Rlcm4tc3R5bGVkIGRlcGljdGlvbiBvZg==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 69,
            "name": "the enhanced prompt should be sent to DALL-E",
            "match": {
              "location": "step-definitions/design-session.steps.ts:257"
            },
            "result": {
              "status": "passed",
              "duration": 19000
            },
            "embeddings": [
              {
                "data": "RW5oYW5jZWQgcHJvbXB0IHNlbnQgdG8gREFMTC1F",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 70,
            "name": "the generated image should reflect modern art style",
            "match": {
              "location": "step-definitions/design-session.steps.ts:261"
            },
            "result": {
              "status": "passed",
              "duration": 22790
            },
            "embeddings": [
              {
                "data": "SW1hZ2UgcmVmbGVjdHMgbW9kZXJuIGFydCBzdHlsZQ==",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "ai-design-image-generation;handle-dall-e-api-failure-gracefully",
        "keyword": "Scenario",
        "line": 72,
        "name": "Handle DALL-E API failure gracefully",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 21832
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "I have paid the $2.00 session fee via Stripe",
            "match": {
              "location": "step-definitions/design-session.steps.ts:20"
            },
            "result": {
              "status": "passed",
              "duration": 17583
            },
            "embeddings": [
              {
                "data": "UGFpZCAkMiBzZXNzaW9uIGZlZSB2aWEgU3RyaXBl",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "I selected \"anime\" as my art style",
            "match": {
              "location": "step-definitions/design-session.steps.ts:24"
            },
            "result": {
              "status": "passed",
              "duration": 16209
            },
            "embeddings": [
              {
                "data": "QXJ0IHN0eWxlIHNlbGVjdGVkOiBhbmltZQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 10,
            "name": "I am in an active design session with 5 max iterations",
            "match": {
              "location": "step-definitions/design-session.steps.ts:28"
            },
            "result": {
              "status": "passed",
              "duration": 14625
            },
            "embeddings": [
              {
                "data": "QWN0aXZlIHNlc3Npb24gdGVzdC1zZXNzaW9uLTEyMyB3aXRoIDUgbWF4IGl0ZXJhdGlvbnM=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 73,
            "name": "I enter a valid prompt \"Ganesha with lotus flowers\"",
            "match": {
              "location": "step-definitions/shared.steps.ts:500"
            },
            "result": {
              "status": "passed",
              "duration": 25874
            },
            "embeddings": [
              {
                "data": "VmFsaWQgcHJvbXB0OiBHYW5lc2hhIHdpdGggbG90dXMgZmxvd2Vycw==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 74,
            "name": "the DALL-E API returns an error",
            "match": {
              "location": "step-definitions/design-session.steps.ts:266"
            },
            "result": {
              "status": "passed",
              "duration": 17917
            },
            "embeddings": [
              {
                "data": "REFMTC1FIEFQSSByZXR1cm5lZCBlcnJvcg==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 75,
            "name": "I should see \"Image generation failed. Please try again.\"",
            "match": {
              "location": "step-definitions/shared.steps.ts:724"
            },
            "result": {
              "status": "passed",
              "duration": 20041
            },
            "embeddings": [
              {
                "data": "RGlzcGxheWVkOiBpbWFnZSBnZW5lcmF0aW9uIGZhaWxlZA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 76,
            "name": "the iteration count should not increment",
            "match": {
              "location": "step-definitions/design-session.steps.ts:278"
            },
            "result": {
              "status": "passed",
              "duration": 24667
            },
            "embeddings": [
              {
                "data": "SXRlcmF0aW9uIGNvdW50IG5vdCBpbmNyZW1lbnRlZA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 77,
            "name": "I should be able to retry the same prompt",
            "match": {
              "location": "step-definitions/design-session.steps.ts:270"
            },
            "result": {
              "status": "passed",
              "duration": 21457
            },
            "embeddings": [
              {
                "data": "UmV0cnkgZW5hYmxlZA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 78,
            "name": "the session should remain active",
            "match": {
              "location": "step-definitions/design-session.steps.ts:274"
            },
            "result": {
              "status": "passed",
              "duration": 17125
            },
            "embeddings": [
              {
                "data": "U2Vzc2lvbiBzdGlsbCBhY3RpdmU=",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "ai-design-image-generation;select-t-shirt-color-and-print-placement-after-accepting-design",
        "keyword": "Scenario",
        "line": 80,
        "name": "Select t-shirt color and print placement after accepting design",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 15374
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "I have paid the $2.00 session fee via Stripe",
            "match": {
              "location": "step-definitions/design-session.steps.ts:20"
            },
            "result": {
              "status": "passed",
              "duration": 16749
            },
            "embeddings": [
              {
                "data": "UGFpZCAkMiBzZXNzaW9uIGZlZSB2aWEgU3RyaXBl",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "I selected \"anime\" as my art style",
            "match": {
              "location": "step-definitions/design-session.steps.ts:24"
            },
            "result": {
              "status": "passed",
              "duration": 15333
            },
            "embeddings": [
              {
                "data": "QXJ0IHN0eWxlIHNlbGVjdGVkOiBhbmltZQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 10,
            "name": "I am in an active design session with 5 max iterations",
            "match": {
              "location": "step-definitions/design-session.steps.ts:28"
            },
            "result": {
              "status": "passed",
              "duration": 14832
            },
            "embeddings": [
              {
                "data": "QWN0aXZlIHNlc3Npb24gdGVzdC1zZXNzaW9uLTEyMyB3aXRoIDUgbWF4IGl0ZXJhdGlvbnM=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 81,
            "name": "I have accepted a generated design",
            "match": {
              "location": "step-definitions/design-session.steps.ts:54"
            },
            "result": {
              "status": "passed",
              "duration": 18832
            },
            "embeddings": [
              {
                "data": "RGVzaWduIGFjY2VwdGVk",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 82,
            "name": "I select color \"Navy\" from the 30 standard options",
            "match": {
              "location": "step-definitions/design-session.steps.ts:211"
            },
            "result": {
              "status": "passed",
              "duration": 1006791
            },
            "embeddings": [
              {
                "data": "U2VsZWN0ZWQgY29sb3I6IE5hdnk=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 83,
            "name": "I select size \"L\"",
            "match": {
              "location": "step-definitions/design-session.steps.ts:215"
            },
            "result": {
              "status": "passed",
              "duration": 25125
            },
            "embeddings": [
              {
                "data": "U2VsZWN0ZWQgc2l6ZTogTA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 84,
            "name": "I select print placement \"both\"",
            "match": {
              "location": "step-definitions/design-session.steps.ts:219"
            },
            "result": {
              "status": "passed",
              "duration": 29083
            },
            "embeddings": [
              {
                "data": "U2VsZWN0ZWQgcHJpbnQgcGxhY2VtZW50OiBib3Ro",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 85,
            "name": "I should see a price breakdown showing base $20 + surcharge",
            "match": {
              "location": "step-definitions/design-session.steps.ts:223"
            },
            "result": {
              "status": "passed",
              "duration": 109708
            },
            "embeddings": [
              {
                "data": "UHJpY2UgYnJlYWtkb3duOiBiYXNlICQyMCArIHN1cmNoYXJnZQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 86,
            "name": "the finalize endpoint should calculate the price from Parameter Store",
            "match": {
              "location": "step-definitions/design-session.steps.ts:227"
            },
            "result": {
              "status": "passed",
              "duration": 26374
            },
            "embeddings": [
              {
                "data": "UHJpY2UgY2FsY3VsYXRlZCBmcm9tIC9FcGljV2VhdmUvcHJpY2luZy8qIFBhcmFtZXRlciBTdG9yZSB2YWx1ZXM=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 87,
            "name": "I should be able to add the custom t-shirt to my cart",
            "match": {
              "location": "step-definitions/design-session.steps.ts:231"
            },
            "result": {
              "status": "passed",
              "duration": 18249
            },
            "embeddings": [
              {
                "data": "QWRkIHRvIGNhcnQgYnV0dG9uIGVuYWJsZWQ=",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      }
    ],
    "id": "ai-design-image-generation",
    "line": 1,
    "keyword": "Feature",
    "name": "AI Design Image Generation",
    "tags": [],
    "uri": "features/functional/design-session/image-generation.feature"
  },
  {
    "description": "  As a customer\n  I want to pay a session fee to access AI design generation\n  So that I can create custom t-shirt designs",
    "elements": [
      {
        "description": "",
        "id": "ai-design-session-payment;successfully-pay-session-fee-and-create-session",
        "keyword": "Scenario",
        "line": 10,
        "name": "Successfully pay session fee and create session",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 18542
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the session fee is configured at \"$2.00\" in Parameter Store",
            "match": {
              "location": "step-definitions/design-session.steps.ts:16"
            },
            "result": {
              "status": "passed",
              "duration": 24416
            },
            "embeddings": [
              {
                "data": "U2Vzc2lvbiBmZWUgY29uZmlndXJlZCBhdCAkMi4wMCBpbiBQYXJhbWV0ZXIgU3RvcmUgL0VwaWNXZWF2ZS9wcmljaW5nL3Nlc3Npb24tZmVl",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 11,
            "name": "I click \"Create Custom Design\"",
            "match": {
              "location": "step-definitions/design-session.steps.ts:63"
            },
            "result": {
              "status": "passed",
              "duration": 19207
            },
            "embeddings": [
              {
                "data": "TmF2aWdhdGluZyB0byAvZGVzaWdu",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 12,
            "name": "I should see the session fee of \"$2.00\"",
            "match": {
              "location": "step-definitions/design-session.steps.ts:67"
            },
            "result": {
              "status": "passed",
              "duration": 24333
            },
            "embeddings": [
              {
                "data": "RGlzcGxheWVkIHNlc3Npb24gZmVlOiAkMi4wMA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 13,
            "name": "I should see terms stating \"Session fee is non-refundable\"",
            "match": {
              "location": "step-definitions/design-session.steps.ts:71"
            },
            "result": {
              "status": "passed",
              "duration": 22124
            },
            "embeddings": [
              {
                "data": "VGVybXMgZGlzcGxheWVkOiBTZXNzaW9uIGZlZSBpcyBub24tcmVmdW5kYWJsZQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 14,
            "name": "I should see art style options \"Modern\" and \"Anime\"",
            "match": {
              "location": "step-definitions/design-session.steps.ts:75"
            },
            "result": {
              "status": "passed",
              "duration": 29833
            },
            "embeddings": [
              {
                "data": "QXJ0IHN0eWxlIG9wdGlvbnM6IE1vZGVybiwgQW5pbWU=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 15,
            "name": "I select art style \"Anime\"",
            "match": {
              "location": "step-definitions/design-session.steps.ts:79"
            },
            "result": {
              "status": "passed",
              "duration": 22749
            },
            "embeddings": [
              {
                "data": "U2VsZWN0ZWQgYXJ0IHN0eWxlOiBBbmltZQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 16,
            "name": "I enter my Stripe payment details",
            "match": {
              "location": "step-definitions/design-session.steps.ts:83"
            },
            "result": {
              "status": "passed",
              "duration": 16874
            },
            "embeddings": [
              {
                "data": "RW50ZXJlZCBTdHJpcGUgcGF5bWVudCBkZXRhaWxz",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 17,
            "name": "I click \"Pay and Start Session\"",
            "match": {
              "location": "step-definitions/design-session.steps.ts:87"
            },
            "result": {
              "status": "passed",
              "duration": 17374
            },
            "embeddings": [
              {
                "data": "Q2xpY2tlZCBQYXkgYW5kIFN0YXJ0IFNlc3Npb24=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 18,
            "name": "a Stripe PaymentIntent should be created for \"$2.00\"",
            "match": {
              "location": "step-definitions/design-session.steps.ts:91"
            },
            "result": {
              "status": "passed",
              "duration": 21833
            },
            "embeddings": [
              {
                "data": "U3RyaXBlIFBheW1lbnRJbnRlbnQgY3JlYXRlZCBmb3IgJDIuMDA=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 19,
            "name": "the payment is successful",
            "match": {
              "location": "step-definitions/design-session.steps.ts:95"
            },
            "result": {
              "status": "passed",
              "duration": 17541
            },
            "embeddings": [
              {
                "data": "UGF5bWVudCBzdWNjZWVkZWQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [
              {
                "rows": [
                  {
                    "cells": [
                      "Field",
                      "Value"
                    ]
                  },
                  {
                    "cells": [
                      "status",
                      "active"
                    ]
                  },
                  {
                    "cells": [
                      "artStyleChoice",
                      "anime"
                    ]
                  },
                  {
                    "cells": [
                      "iterationCount",
                      "0"
                    ]
                  },
                  {
                    "cells": [
                      "maxIterations",
                      "5"
                    ]
                  },
                  {
                    "cells": [
                      "expiresAt",
                      "now + 60 minutes (TTL)"
                    ]
                  }
                ]
              }
            ],
            "keyword": "Then ",
            "line": 20,
            "name": "a DesignSession should be created in DynamoDB with:",
            "match": {
              "location": "step-definitions/design-session.steps.ts:99"
            },
            "result": {
              "status": "passed",
              "duration": 56291
            },
            "embeddings": [
              {
                "data": "RHluYW1vREIgRGVzaWduU2Vzc2lvbjogc3RhdHVzID0gYWN0aXZl",
                "mime_type": "text/plain"
              },
              {
                "data": "RHluYW1vREIgRGVzaWduU2Vzc2lvbjogYXJ0U3R5bGVDaG9pY2UgPSBhbmltZQ==",
                "mime_type": "text/plain"
              },
              {
                "data": "RHluYW1vREIgRGVzaWduU2Vzc2lvbjogaXRlcmF0aW9uQ291bnQgPSAw",
                "mime_type": "text/plain"
              },
              {
                "data": "RHluYW1vREIgRGVzaWduU2Vzc2lvbjogbWF4SXRlcmF0aW9ucyA9IDU=",
                "mime_type": "text/plain"
              },
              {
                "data": "RHluYW1vREIgRGVzaWduU2Vzc2lvbjogZXhwaXJlc0F0ID0gbm93ICsgNjAgbWludXRlcyAoVFRMKQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 27,
            "name": "a Payment record should be saved with type \"session_fee\" and status \"succeeded\"",
            "match": {
              "location": "step-definitions/design-session.steps.ts:106"
            },
            "result": {
              "status": "passed",
              "duration": 25667
            },
            "embeddings": [
              {
                "data": "UGF5bWVudCByZWNvcmQ6IHR5cGU9c2Vzc2lvbl9mZWUsIHN0YXR1cz1zdWNjZWVkZWQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 28,
            "name": "I should be redirected to the chat interface",
            "match": {
              "location": "step-definitions/design-session.steps.ts:110"
            },
            "result": {
              "status": "passed",
              "duration": 17250
            },
            "embeddings": [
              {
                "data": "UmVkaXJlY3RlZCB0byAvZGVzaWduLzxzZXNzaW9uSWQ+",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "ai-design-session-payment;payment-fails-due-to-insufficient-funds",
        "keyword": "Scenario",
        "line": 30,
        "name": "Payment fails due to insufficient funds",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 18083
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the session fee is configured at \"$2.00\" in Parameter Store",
            "match": {
              "location": "step-definitions/design-session.steps.ts:16"
            },
            "result": {
              "status": "passed",
              "duration": 17749
            },
            "embeddings": [
              {
                "data": "U2Vzc2lvbiBmZWUgY29uZmlndXJlZCBhdCAkMi4wMCBpbiBQYXJhbWV0ZXIgU3RvcmUgL0VwaWNXZWF2ZS9wcmljaW5nL3Nlc3Npb24tZmVl",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 31,
            "name": "I click \"Create Custom Design\"",
            "match": {
              "location": "step-definitions/design-session.steps.ts:63"
            },
            "result": {
              "status": "passed",
              "duration": 12874
            },
            "embeddings": [
              {
                "data": "TmF2aWdhdGluZyB0byAvZGVzaWdu",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 32,
            "name": "I select art style \"Modern\"",
            "match": {
              "location": "step-definitions/design-session.steps.ts:79"
            },
            "result": {
              "status": "passed",
              "duration": 43124
            },
            "embeddings": [
              {
                "data": "U2VsZWN0ZWQgYXJ0IHN0eWxlOiBNb2Rlcm4=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 33,
            "name": "I enter payment details with insufficient funds",
            "match": {
              "location": "step-definitions/shared.steps.ts:739"
            },
            "result": {
              "status": "passed",
              "duration": 16457
            },
            "embeddings": [
              {
                "data": "RW50ZXJlZCBwYXltZW50IHdpdGggaW5zdWZmaWNpZW50IGZ1bmRz",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 34,
            "name": "I click \"Pay and Start Session\"",
            "match": {
              "location": "step-definitions/design-session.steps.ts:87"
            },
            "result": {
              "status": "passed",
              "duration": 12499
            },
            "embeddings": [
              {
                "data": "Q2xpY2tlZCBQYXkgYW5kIFN0YXJ0IFNlc3Npb24=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 35,
            "name": "the Stripe payment should fail",
            "match": {
              "location": "step-definitions/shared.steps.ts:746"
            },
            "result": {
              "status": "passed",
              "duration": 13417
            },
            "embeddings": [
              {
                "data": "U3RyaXBlIHBheW1lbnQgZmFpbGVk",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 36,
            "name": "I should see error \"Your card has insufficient funds\"",
            "match": {
              "location": "step-definitions/shared.steps.ts:750"
            },
            "result": {
              "status": "passed",
              "duration": 25250
            },
            "embeddings": [
              {
                "data": "RXJyb3I6IFlvdXIgY2FyZCBoYXMgaW5zdWZmaWNpZW50IGZ1bmRz",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 37,
            "name": "no DesignSession should be created",
            "match": {
              "location": "step-definitions/shared.steps.ts:509"
            },
            "result": {
              "status": "passed",
              "duration": 17416
            },
            "embeddings": [
              {
                "data": "Tm8gc2Vzc2lvbiBjcmVhdGVk",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 38,
            "name": "I should be able to retry payment",
            "match": {
              "location": "step-definitions/shared.steps.ts:516"
            },
            "result": {
              "status": "passed",
              "duration": 17207
            },
            "embeddings": [
              {
                "data": "UmV0cnkgcGF5bWVudCBhdmFpbGFibGU=",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "ai-design-session-payment;payment-fails-due-to-invalid-card",
        "keyword": "Scenario",
        "line": 40,
        "name": "Payment fails due to invalid card",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 15417
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the session fee is configured at \"$2.00\" in Parameter Store",
            "match": {
              "location": "step-definitions/design-session.steps.ts:16"
            },
            "result": {
              "status": "passed",
              "duration": 15165
            },
            "embeddings": [
              {
                "data": "U2Vzc2lvbiBmZWUgY29uZmlndXJlZCBhdCAkMi4wMCBpbiBQYXJhbWV0ZXIgU3RvcmUgL0VwaWNXZWF2ZS9wcmljaW5nL3Nlc3Npb24tZmVl",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 41,
            "name": "I click \"Create Custom Design\"",
            "match": {
              "location": "step-definitions/design-session.steps.ts:63"
            },
            "result": {
              "status": "passed",
              "duration": 12708
            },
            "embeddings": [
              {
                "data": "TmF2aWdhdGluZyB0byAvZGVzaWdu",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 42,
            "name": "I select art style \"Anime\"",
            "match": {
              "location": "step-definitions/design-session.steps.ts:79"
            },
            "result": {
              "status": "passed",
              "duration": 14915
            },
            "embeddings": [
              {
                "data": "U2VsZWN0ZWQgYXJ0IHN0eWxlOiBBbmltZQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 43,
            "name": "I enter invalid payment details",
            "match": {
              "location": "step-definitions/shared.steps.ts:757"
            },
            "result": {
              "status": "passed",
              "duration": 18208
            },
            "embeddings": [
              {
                "data": "SW52YWxpZCBwYXltZW50IGRldGFpbHMgZW50ZXJlZA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 44,
            "name": "I click \"Pay and Start Session\"",
            "match": {
              "location": "step-definitions/design-session.steps.ts:87"
            },
            "result": {
              "status": "passed",
              "duration": 12499
            },
            "embeddings": [
              {
                "data": "Q2xpY2tlZCBQYXkgYW5kIFN0YXJ0IFNlc3Npb24=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 45,
            "name": "the Stripe payment should fail",
            "match": {
              "location": "step-definitions/shared.steps.ts:746"
            },
            "result": {
              "status": "passed",
              "duration": 12917
            },
            "embeddings": [
              {
                "data": "U3RyaXBlIHBheW1lbnQgZmFpbGVk",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 46,
            "name": "I should see error \"Your card was declined\"",
            "match": {
              "location": "step-definitions/shared.steps.ts:750"
            },
            "result": {
              "status": "passed",
              "duration": 17499
            },
            "embeddings": [
              {
                "data": "RXJyb3I6IFlvdXIgY2FyZCB3YXMgZGVjbGluZWQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 47,
            "name": "no DesignSession should be created",
            "match": {
              "location": "step-definitions/shared.steps.ts:509"
            },
            "result": {
              "status": "passed",
              "duration": 13082
            },
            "embeddings": [
              {
                "data": "Tm8gc2Vzc2lvbiBjcmVhdGVk",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "ai-design-session-payment;display-session-fee-from-parameter-store",
        "keyword": "Scenario",
        "line": 49,
        "name": "Display session fee from Parameter Store",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 64166
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the session fee is configured at \"$2.00\" in Parameter Store",
            "match": {
              "location": "step-definitions/design-session.steps.ts:16"
            },
            "result": {
              "status": "passed",
              "duration": 80499
            },
            "embeddings": [
              {
                "data": "U2Vzc2lvbiBmZWUgY29uZmlndXJlZCBhdCAkMi4wMCBpbiBQYXJhbWV0ZXIgU3RvcmUgL0VwaWNXZWF2ZS9wcmljaW5nL3Nlc3Npb24tZmVl",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 50,
            "name": "the admin has updated session fee to \"$3.50\" in Parameter Store",
            "match": {
              "location": "step-definitions/design-session.steps.ts:58"
            },
            "result": {
              "status": "passed",
              "duration": 41625
            },
            "embeddings": [
              {
                "data": "QWRtaW4gdXBkYXRlZCBzZXNzaW9uIGZlZSB0byAkMy41MA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 51,
            "name": "I click \"Create Custom Design\"",
            "match": {
              "location": "step-definitions/design-session.steps.ts:63"
            },
            "result": {
              "status": "passed",
              "duration": 17665
            },
            "embeddings": [
              {
                "data": "TmF2aWdhdGluZyB0byAvZGVzaWdu",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 52,
            "name": "I should see the updated session fee of \"$3.50\"",
            "match": {
              "location": "step-definitions/shared.steps.ts:761"
            },
            "result": {
              "status": "passed",
              "duration": 27459
            },
            "embeddings": [
              {
                "data": "VXBkYXRlZCBzZXNzaW9uIGZlZTogJDMuNTA=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 53,
            "name": "the Stripe PaymentIntent should be created for \"$3.50\"",
            "match": {
              "location": "step-definitions/shared.steps.ts:768"
            },
            "result": {
              "status": "passed",
              "duration": 30208
            },
            "embeddings": [
              {
                "data": "U3RyaXBlIFBheW1lbnRJbnRlbnQ6ICQzLjUw",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "ai-design-session-payment;cannot-start-multiple-concurrent-sessions",
        "keyword": "Scenario",
        "line": 55,
        "name": "Cannot start multiple concurrent sessions",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 17665
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the session fee is configured at \"$2.00\" in Parameter Store",
            "match": {
              "location": "step-definitions/design-session.steps.ts:16"
            },
            "result": {
              "status": "passed",
              "duration": 16499
            },
            "embeddings": [
              {
                "data": "U2Vzc2lvbiBmZWUgY29uZmlndXJlZCBhdCAkMi4wMCBpbiBQYXJhbWV0ZXIgU3RvcmUgL0VwaWNXZWF2ZS9wcmljaW5nL3Nlc3Npb24tZmVl",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 56,
            "name": "I have an active design session",
            "match": {
              "location": "step-definitions/design-session.steps.ts:33"
            },
            "result": {
              "status": "passed",
              "duration": 168915
            },
            "embeddings": [
              {
                "data": "QWN0aXZlIGRlc2lnbiBzZXNzaW9uIGV4aXN0cw==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 57,
            "name": "I attempt to create another design session",
            "match": {
              "location": "step-definitions/design-session.steps.ts:283"
            },
            "result": {
              "status": "passed",
              "duration": 29874
            },
            "embeddings": [
              {
                "data": "QXR0ZW1wdGluZyBzZWNvbmQgY29uY3VycmVudCBzZXNzaW9u",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 58,
            "name": "I should see message \"You already have an active session\"",
            "match": {
              "location": "step-definitions/shared.steps.ts:523"
            },
            "result": {
              "status": "passed",
              "duration": 33874
            },
            "embeddings": [
              {
                "data": "TWVzc2FnZTogWW91IGFscmVhZHkgaGF2ZSBhbiBhY3RpdmUgc2Vzc2lvbg==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 59,
            "name": "I should be redirected to my existing session",
            "match": {
              "location": "step-definitions/design-session.steps.ts:287"
            },
            "result": {
              "status": "passed",
              "duration": 20458
            },
            "embeddings": [
              {
                "data": "UmVkaXJlY3RlZCB0byBleGlzdGluZyBhY3RpdmUgc2Vzc2lvbg==",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "ai-design-session-payment;session-created-with-correct-ttl-for-auto-expiry",
        "keyword": "Scenario",
        "line": 61,
        "name": "Session created with correct TTL for auto-expiry",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 27166
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "the session fee is configured at \"$2.00\" in Parameter Store",
            "match": {
              "location": "step-definitions/design-session.steps.ts:16"
            },
            "result": {
              "status": "passed",
              "duration": 20874
            },
            "embeddings": [
              {
                "data": "U2Vzc2lvbiBmZWUgY29uZmlndXJlZCBhdCAkMi4wMCBpbiBQYXJhbWV0ZXIgU3RvcmUgL0VwaWNXZWF2ZS9wcmljaW5nL3Nlc3Npb24tZmVl",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 62,
            "name": "I successfully pay and create a session",
            "match": {
              "location": "step-definitions/design-session.steps.ts:291"
            },
            "result": {
              "status": "passed",
              "duration": 42999
            },
            "embeddings": [
              {
                "data": "U2Vzc2lvbiBjcmVhdGVkIHN1Y2Nlc3NmdWxseQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 63,
            "name": "the DynamoDB record should have TTL set to 60 minutes from now",
            "match": {
              "location": "step-definitions/design-session.steps.ts:296"
            },
            "result": {
              "status": "passed",
              "duration": 35291
            },
            "embeddings": [
              {
                "data": "RHluYW1vREIgVFRMIHNldCB0byA2MCBtaW51dGVzIGZyb20gbm93IChleHBpcmVzQXQgYXR0cmlidXRlKQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 64,
            "name": "the session will auto-expire via DynamoDB TTL",
            "match": {
              "location": "step-definitions/design-session.steps.ts:300"
            },
            "result": {
              "status": "passed",
              "duration": 23917
            },
            "embeddings": [
              {
                "data": "RHluYW1vREIgVFRMIGF1dG8tZXhwaXJ5IGVuYWJsZWQ=",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      }
    ],
    "id": "ai-design-session-payment",
    "line": 1,
    "keyword": "Feature",
    "name": "AI Design Session Payment",
    "tags": [],
    "uri": "features/functional/design-session/session-payment.feature"
  },
  {
    "description": "  As an admin\n  I want to manage customer orders\n  So that I can process fulfillment and handle refunds",
    "elements": [
      {
        "description": "",
        "id": "admin-order-management;view-all-orders-with-status-filter",
        "keyword": "Scenario",
        "line": 9,
        "name": "View all orders with status filter",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as an admin via Cognito",
            "match": {
              "location": "step-definitions/order-management.steps.ts:137"
            },
            "result": {
              "status": "passed",
              "duration": 26541
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGFkbWluIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 10,
            "name": "I navigate to the admin order dashboard",
            "match": {
              "location": "step-definitions/order-management.steps.ts:200"
            },
            "result": {
              "status": "passed",
              "duration": 23250
            },
            "embeddings": [
              {
                "data": "TmF2aWdhdGluZyB0byAvYWRtaW4vb3JkZXJz",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 11,
            "name": "I should see all orders sorted by date descending",
            "match": {
              "location": "step-definitions/order-management.steps.ts:259"
            },
            "result": {
              "status": "passed",
              "duration": 23957
            },
            "embeddings": [
              {
                "data": "QWRtaW4gb3JkZXJzIGxpc3RlZCBieSBkYXRlIGRlc2NlbmRpbmc=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 12,
            "name": "I should be able to filter orders by status \"paid\", \"processing\", \"shipped\", \"delivered\"",
            "match": {
              "location": "step-definitions/order-management.steps.ts:266"
            },
            "result": {
              "status": "passed",
              "duration": 50292
            },
            "embeddings": [
              {
                "data": "RmlsdGVyIG9wdGlvbnM6IHBhaWQsIHByb2Nlc3NpbmcsIHNoaXBwZWQsIGRlbGl2ZXJlZA==",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "admin-order-management;filter-orders-by-status",
        "keyword": "Scenario",
        "line": 14,
        "name": "Filter orders by status",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as an admin via Cognito",
            "match": {
              "location": "step-definitions/order-management.steps.ts:137"
            },
            "result": {
              "status": "passed",
              "duration": 18458
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGFkbWluIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 15,
            "name": "there are orders with different statuses",
            "match": {
              "location": "step-definitions/order-management.steps.ts:163"
            },
            "result": {
              "status": "passed",
              "duration": 24333
            },
            "embeddings": [
              {
                "data": "T3JkZXJzIGV4aXN0IHdpdGggc3RhdHVzZXM6IHBhaWQsIHByb2Nlc3NpbmcsIHNoaXBwZWQsIGRlbGl2ZXJlZA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 16,
            "name": "I filter orders by status \"paid\"",
            "match": {
              "location": "step-definitions/order-management.steps.ts:207"
            },
            "result": {
              "status": "passed",
              "duration": 28041
            },
            "embeddings": [
              {
                "data": "RmlsdGVyaW5nIG9yZGVycyBieSBzdGF0dXM6IHBhaWQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 17,
            "name": "I should only see orders with status \"paid\"",
            "match": {
              "location": "step-definitions/order-management.steps.ts:279"
            },
            "result": {
              "status": "passed",
              "duration": 181334
            },
            "embeddings": [
              {
                "data": "RmlsdGVyZWQgdG8gc3RhdHVzOiBwYWlk",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 18,
            "name": "the query should use DynamoDB GSI2 with key \"ORDER#STATUS#paid\"",
            "match": {
              "location": "step-definitions/order-management.steps.ts:286"
            },
            "result": {
              "status": "passed",
              "duration": 25833
            },
            "embeddings": [
              {
                "data": "R1NJMiBxdWVyeSBrZXk6IE9SREVSI1NUQVRVUyNwYWlk",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "admin-order-management;update-order-status-to-processing",
        "keyword": "Scenario",
        "line": 20,
        "name": "Update order status to processing",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as an admin via Cognito",
            "match": {
              "location": "step-definitions/order-management.steps.ts:137"
            },
            "result": {
              "status": "passed",
              "duration": 21874
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGFkbWluIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 21,
            "name": "there is an order with ID \"ORD456\" and status \"paid\"",
            "match": {
              "location": "step-definitions/order-management.steps.ts:172"
            },
            "result": {
              "status": "passed",
              "duration": 32541
            },
            "embeddings": [
              {
                "data": "T3JkZXIgT1JENDU2IGV4aXN0cyB3aXRoIHN0YXR1czogcGFpZA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 22,
            "name": "I update the order status to \"processing\"",
            "match": {
              "location": "step-definitions/order-management.steps.ts:214"
            },
            "result": {
              "status": "passed",
              "duration": 27457
            },
            "embeddings": [
              {
                "data": "VXBkYXRpbmcgb3JkZXIgc3RhdHVzIHRvOiBwcm9jZXNzaW5n",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 23,
            "name": "the order status in DynamoDB should be updated to \"processing\"",
            "match": {
              "location": "step-definitions/order-management.steps.ts:293"
            },
            "result": {
              "status": "passed",
              "duration": 27207
            },
            "embeddings": [
              {
                "data": "RHluYW1vREIgb3JkZXIgc3RhdHVzOiBwcm9jZXNzaW5n",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 24,
            "name": "the GSI2PK should be updated to \"ORDER#STATUS#processing\"",
            "match": {
              "location": "step-definitions/order-management.steps.ts:300"
            },
            "result": {
              "status": "passed",
              "duration": 24875
            },
            "embeddings": [
              {
                "data": "R1NJMlBLIHVwZGF0ZWQgdG86IE9SREVSI1NUQVRVUyNwcm9jZXNzaW5n",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 25,
            "name": "the order updatedAt timestamp should be refreshed",
            "match": {
              "location": "step-definitions/order-management.steps.ts:307"
            },
            "result": {
              "status": "passed",
              "duration": 22750
            },
            "embeddings": [
              {
                "data": "dXBkYXRlZEF0IHRpbWVzdGFtcCByZWZyZXNoZWQ=",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "admin-order-management;mark-order-as-shipped-with-tracking-number",
        "keyword": "Scenario",
        "line": 27,
        "name": "Mark order as shipped with tracking number",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as an admin via Cognito",
            "match": {
              "location": "step-definitions/order-management.steps.ts:137"
            },
            "result": {
              "status": "passed",
              "duration": 14833
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGFkbWluIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 28,
            "name": "there is an order with ID \"ORD456\" and status \"processing\"",
            "match": {
              "location": "step-definitions/order-management.steps.ts:172"
            },
            "result": {
              "status": "passed",
              "duration": 18625
            },
            "embeddings": [
              {
                "data": "T3JkZXIgT1JENDU2IGV4aXN0cyB3aXRoIHN0YXR1czogcHJvY2Vzc2luZw==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 29,
            "name": "I update the order status to \"shipped\" with tracking number \"1Z999AA10123456784\"",
            "match": {
              "location": "step-definitions/order-management.steps.ts:221"
            },
            "result": {
              "status": "passed",
              "duration": 26667
            },
            "embeddings": [
              {
                "data": "VXBkYXRpbmcgb3JkZXIgc3RhdHVzIHRvIHNoaXBwZWQgd2l0aCB0cmFja2luZzogMVo5OTlBQTEwMTIzNDU2Nzg0",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 30,
            "name": "the order status should be \"shipped\"",
            "match": {
              "location": "step-definitions/order-management.steps.ts:314"
            },
            "result": {
              "status": "passed",
              "duration": 42333
            },
            "embeddings": [
              {
                "data": "T3JkZXIgc3RhdHVzOiBzaGlwcGVk",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 31,
            "name": "the tracking number should be saved in DynamoDB",
            "match": {
              "location": "step-definitions/order-management.steps.ts:321"
            },
            "result": {
              "status": "passed",
              "duration": 18790
            },
            "embeddings": [
              {
                "data": "VHJhY2tpbmcgbnVtYmVyIHNhdmVkIGluIER5bmFtb0RC",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 32,
            "name": "a shipping notification email should be sent via SES",
            "match": {
              "location": "step-definitions/order-management.steps.ts:328"
            },
            "result": {
              "status": "passed",
              "duration": 21417
            },
            "embeddings": [
              {
                "data": "U0VTIHNoaXBwaW5nIG5vdGlmaWNhdGlvbiBlbWFpbCBzZW50",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "admin-order-management;mark-order-as-delivered",
        "keyword": "Scenario",
        "line": 34,
        "name": "Mark order as delivered",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as an admin via Cognito",
            "match": {
              "location": "step-definitions/order-management.steps.ts:137"
            },
            "result": {
              "status": "passed",
              "duration": 18374
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGFkbWluIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 35,
            "name": "there is an order with ID \"ORD456\" and status \"shipped\"",
            "match": {
              "location": "step-definitions/order-management.steps.ts:172"
            },
            "result": {
              "status": "passed",
              "duration": 18249
            },
            "embeddings": [
              {
                "data": "T3JkZXIgT1JENDU2IGV4aXN0cyB3aXRoIHN0YXR1czogc2hpcHBlZA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 36,
            "name": "I update the order status to \"delivered\"",
            "match": {
              "location": "step-definitions/order-management.steps.ts:214"
            },
            "result": {
              "status": "passed",
              "duration": 17540
            },
            "embeddings": [
              {
                "data": "VXBkYXRpbmcgb3JkZXIgc3RhdHVzIHRvOiBkZWxpdmVyZWQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 37,
            "name": "the order status should be \"delivered\"",
            "match": {
              "location": "step-definitions/order-management.steps.ts:314"
            },
            "result": {
              "status": "passed",
              "duration": 15790
            },
            "embeddings": [
              {
                "data": "T3JkZXIgc3RhdHVzOiBkZWxpdmVyZWQ=",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "admin-order-management;invalid-status-transition",
        "keyword": "Scenario",
        "line": 39,
        "name": "Invalid status transition",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as an admin via Cognito",
            "match": {
              "location": "step-definitions/order-management.steps.ts:137"
            },
            "result": {
              "status": "passed",
              "duration": 16666
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGFkbWluIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 40,
            "name": "there is an order with ID \"ORD456\" and status \"paid\"",
            "match": {
              "location": "step-definitions/order-management.steps.ts:172"
            },
            "result": {
              "status": "passed",
              "duration": 17959
            },
            "embeddings": [
              {
                "data": "T3JkZXIgT1JENDU2IGV4aXN0cyB3aXRoIHN0YXR1czogcGFpZA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 41,
            "name": "I try to update the order status to \"delivered\"",
            "match": {
              "location": "step-definitions/order-management.steps.ts:230"
            },
            "result": {
              "status": "passed",
              "duration": 38916
            },
            "embeddings": [
              {
                "data": "QXR0ZW1wdGluZyBpbnZhbGlkIHN0YXR1cyB1cGRhdGUgdG86IGRlbGl2ZXJlZA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 42,
            "name": "I should see an error \"Invalid status transition from paid to delivered\"",
            "match": {
              "location": "step-definitions/auth.steps.ts:148"
            },
            "result": {
              "status": "passed",
              "duration": 31167
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 43,
            "name": "the order status should remain \"paid\"",
            "match": {
              "location": "step-definitions/order-management.steps.ts:335"
            },
            "result": {
              "status": "passed",
              "duration": 34999
            },
            "embeddings": [
              {
                "data": "T3JkZXIgc3RhdHVzIHVuY2hhbmdlZDogcGFpZA==",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "admin-order-management;process-refund-for-order-payment",
        "keyword": "Scenario",
        "line": 45,
        "name": "Process refund for order payment",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as an admin via Cognito",
            "match": {
              "location": "step-definitions/order-management.steps.ts:137"
            },
            "result": {
              "status": "passed",
              "duration": 14291
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGFkbWluIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 46,
            "name": "there is an order with ID \"ORD789\" and status \"paid\"",
            "match": {
              "location": "step-definitions/order-management.steps.ts:172"
            },
            "result": {
              "status": "passed",
              "duration": 19541
            },
            "embeddings": [
              {
                "data": "T3JkZXIgT1JENzg5IGV4aXN0cyB3aXRoIHN0YXR1czogcGFpZA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 47,
            "name": "the order total is \"$45.99\"",
            "match": {
              "location": "step-definitions/order-management.steps.ts:179"
            },
            "result": {
              "status": "passed",
              "duration": 27333
            },
            "embeddings": [
              {
                "data": "T3JkZXIgdG90YWw6ICQ0NS45OQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 48,
            "name": "I initiate a refund for order \"ORD789\"",
            "match": {
              "location": "step-definitions/order-management.steps.ts:241"
            },
            "result": {
              "status": "passed",
              "duration": 27625
            },
            "embeddings": [
              {
                "data": "SW5pdGlhdGluZyByZWZ1bmQgZm9yIG9yZGVyOiBPUkQ3ODk=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 49,
            "name": "a Stripe Refund should be created for the order payment",
            "match": {
              "location": "step-definitions/order-management.steps.ts:342"
            },
            "result": {
              "status": "passed",
              "duration": 22334
            },
            "embeddings": [
              {
                "data": "U3RyaXBlIFJlZnVuZCBBUEkgY2FsbGVkIGZvciBvcmRlciBwYXltZW50",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 50,
            "name": "the order status should be updated to \"refunded\"",
            "match": {
              "location": "step-definitions/order-management.steps.ts:349"
            },
            "result": {
              "status": "passed",
              "duration": 25958
            },
            "embeddings": [
              {
                "data": "T3JkZXIgc3RhdHVzIHVwZGF0ZWQgdG86IHJlZnVuZGVk",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 51,
            "name": "the stock should be restored for pre-designed items",
            "match": {
              "location": "step-definitions/order-management.steps.ts:356"
            },
            "result": {
              "status": "passed",
              "duration": 21542
            },
            "embeddings": [
              {
                "data": "U3RvY2sgaW5jcmVtZW50ZWQgYmFjayBmb3IgcHJlLWRlc2lnbmVkIHByb2R1Y3QgdmFyaWFudHM=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 52,
            "name": "the refund amount should be \"$45.99\"",
            "match": {
              "location": "step-definitions/order-management.steps.ts:363"
            },
            "result": {
              "status": "passed",
              "duration": 27208
            },
            "embeddings": [
              {
                "data": "UmVmdW5kIGFtb3VudDogJDQ1Ljk5",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "admin-order-management;session-fee-is-non-refundable",
        "keyword": "Scenario",
        "line": 54,
        "name": "Session fee is non-refundable",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as an admin via Cognito",
            "match": {
              "location": "step-definitions/order-management.steps.ts:137"
            },
            "result": {
              "status": "passed",
              "duration": 15707
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGFkbWluIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 55,
            "name": "there is an order containing a custom design item",
            "match": {
              "location": "step-definitions/order-management.steps.ts:186"
            },
            "result": {
              "status": "passed",
              "duration": 19875
            },
            "embeddings": [
              {
                "data": "T3JkZXIgaGFzIGN1c3RvbSBkZXNpZ24gaXRlbSBsaW5rZWQgdG8gc2Vzc2lvbg==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 56,
            "name": "the customer paid a \"$2.00\" session fee",
            "match": {
              "location": "step-definitions/order-management.steps.ts:193"
            },
            "result": {
              "status": "passed",
              "duration": 23792
            },
            "embeddings": [
              {
                "data": "U2Vzc2lvbiBmZWUgcGFpZDogJDIuMDAgKG5vbi1yZWZ1bmRhYmxlKQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 57,
            "name": "I process a refund for the order",
            "match": {
              "location": "step-definitions/order-management.steps.ts:248"
            },
            "result": {
              "status": "passed",
              "duration": 20958
            },
            "embeddings": [
              {
                "data": "UHJvY2Vzc2luZyByZWZ1bmQgZm9yIG9yZGVy",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 58,
            "name": "only the order payment should be refunded",
            "match": {
              "location": "step-definitions/order-management.steps.ts:370"
            },
            "result": {
              "status": "passed",
              "duration": 18290
            },
            "embeddings": [
              {
                "data": "T25seSBvcmRlcl9wYXltZW50IHR5cGUgcmVmdW5kZWQsIG5vdCBzZXNzaW9uX2ZlZQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 59,
            "name": "the session fee payment should NOT be refunded",
            "match": {
              "location": "step-definitions/order-management.steps.ts:377"
            },
            "result": {
              "status": "passed",
              "duration": 19332
            },
            "embeddings": [
              {
                "data": "U2Vzc2lvbiBmZWUgcGF5bWVudCBleGNsdWRlZCBmcm9tIHJlZnVuZA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 60,
            "name": "the refund notes should state \"Session fee non-refundable\"",
            "match": {
              "location": "step-definitions/order-management.steps.ts:384"
            },
            "result": {
              "status": "passed",
              "duration": 26000
            },
            "embeddings": [
              {
                "data": "UmVmdW5kIG5vdGVzOiBTZXNzaW9uIGZlZSBub24tcmVmdW5kYWJsZQ==",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "admin-order-management;non-admin-cannot-access-admin-endpoints",
        "keyword": "Scenario",
        "line": 62,
        "name": "Non-admin cannot access admin endpoints",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as an admin via Cognito",
            "match": {
              "location": "step-definitions/order-management.steps.ts:137"
            },
            "result": {
              "status": "passed",
              "duration": 15666
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGFkbWluIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 63,
            "name": "I am logged in as a regular customer",
            "match": {
              "location": "step-definitions/order-management.steps.ts:150"
            },
            "result": {
              "status": "passed",
              "duration": 19416
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIHJlZ3VsYXIgY3VzdG9tZXIgKG5vbi1hZG1pbik=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 64,
            "name": "I try to access the admin order dashboard",
            "match": {
              "location": "step-definitions/order-management.steps.ts:252"
            },
            "result": {
              "status": "passed",
              "duration": 24167
            },
            "embeddings": [
              {
                "data": "Tm9uLWFkbWluIGF0dGVtcHRpbmcgdG8gYWNjZXNzIC9hZG1pbi9vcmRlcnM=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 65,
            "name": "I should receive a 403 Forbidden response",
            "match": {
              "location": "step-definitions/order-management.steps.ts:391"
            },
            "result": {
              "status": "passed",
              "duration": 28707
            },
            "embeddings": [
              {
                "data": "UmVjZWl2ZWQgNDAzIEZvcmJpZGRlbg==",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      }
    ],
    "id": "admin-order-management",
    "line": 1,
    "keyword": "Feature",
    "name": "Admin Order Management",
    "tags": [],
    "uri": "features/functional/orders/admin-order-management.feature"
  },
  {
    "description": "  As a customer\n  I want to view my order history\n  So that I can track my purchases and their status",
    "elements": [
      {
        "description": "",
        "id": "customer-order-history;view-order-history-list",
        "keyword": "Scenario",
        "line": 10,
        "name": "View order history list",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 21332
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "I have placed orders in the past",
            "match": {
              "location": "step-definitions/order-management.steps.ts:9"
            },
            "result": {
              "status": "passed",
              "duration": 35875
            },
            "embeddings": [
              {
                "data": "Q3VzdG9tZXIgaGFzIGV4aXN0aW5nIG9yZGVycyBpbiBEeW5hbW9EQg==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 11,
            "name": "I navigate to the order history page",
            "match": {
              "location": "step-definitions/order-management.steps.ts:41"
            },
            "result": {
              "status": "passed",
              "duration": 26542
            },
            "embeddings": [
              {
                "data": "TmF2aWdhdGluZyB0byAvb3JkZXJz",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 12,
            "name": "I should see a list of my orders sorted by date descending",
            "match": {
              "location": "step-definitions/order-management.steps.ts:59"
            },
            "result": {
              "status": "passed",
              "duration": 19834
            },
            "embeddings": [
              {
                "data": "T3JkZXJzIGxpc3RlZCBieSBkYXRlIGRlc2NlbmRpbmc=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 13,
            "name": "each order should display order ID, date, status, total, and item count",
            "match": {
              "location": "step-definitions/order-management.steps.ts:66"
            },
            "result": {
              "status": "passed",
              "duration": 19665
            },
            "embeddings": [
              {
                "data": "T3JkZXIgbGlzdCBpdGVtcyBzaG93OiBJRCwgZGF0ZSwgc3RhdHVzLCB0b3RhbCwgaXRlbUNvdW50",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-order-history;view-order-details",
        "keyword": "Scenario",
        "line": 15,
        "name": "View order details",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 15874
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "I have placed orders in the past",
            "match": {
              "location": "step-definitions/order-management.steps.ts:9"
            },
            "result": {
              "status": "passed",
              "duration": 14291
            },
            "embeddings": [
              {
                "data": "Q3VzdG9tZXIgaGFzIGV4aXN0aW5nIG9yZGVycyBpbiBEeW5hbW9EQg==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 16,
            "name": "I have an order with ID \"ORD123\"",
            "match": {
              "location": "step-definitions/order-management.steps.ts:16"
            },
            "result": {
              "status": "passed",
              "duration": 48124
            },
            "embeddings": [
              {
                "data": "T3JkZXIgZXhpc3RzOiBPUkQxMjM=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 17,
            "name": "I click on order \"ORD123\"",
            "match": {
              "location": "step-definitions/order-management.steps.ts:48"
            },
            "result": {
              "status": "passed",
              "duration": 168250
            },
            "embeddings": [
              {
                "data": "Q2xpY2tpbmcgb3JkZXIgT1JEMTIz",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 18,
            "name": "I should see the order detail page",
            "match": {
              "location": "step-definitions/order-management.steps.ts:73"
            },
            "result": {
              "status": "passed",
              "duration": 27791
            },
            "embeddings": [
              {
                "data": "T3JkZXIgZGV0YWlsIHBhZ2UgZGlzcGxheWVk",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 19,
            "name": "I should see all order items with name, size, color, quantity, and price",
            "match": {
              "location": "step-definitions/order-management.steps.ts:80"
            },
            "result": {
              "status": "passed",
              "duration": 22665
            },
            "embeddings": [
              {
                "data": "T3JkZXIgaXRlbXMgZGlzcGxheWVkIHdpdGggZnVsbCBkZXRhaWxz",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 20,
            "name": "I should see the shipping address",
            "match": {
              "location": "step-definitions/order-management.steps.ts:87"
            },
            "result": {
              "status": "passed",
              "duration": 22084
            },
            "embeddings": [
              {
                "data": "U2hpcHBpbmcgYWRkcmVzcyBkaXNwbGF5ZWQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 21,
            "name": "I should see the order totals breakdown",
            "match": {
              "location": "step-definitions/order-management.steps.ts:94"
            },
            "result": {
              "status": "passed",
              "duration": 22042
            },
            "embeddings": [
              {
                "data": "VG90YWxzOiBzdWJ0b3RhbCwgc2hpcHBpbmcsIHRheCwgdG90YWw=",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-order-history;track-order-status",
        "keyword": "Scenario",
        "line": 23,
        "name": "Track order status",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 18708
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "I have placed orders in the past",
            "match": {
              "location": "step-definitions/order-management.steps.ts:9"
            },
            "result": {
              "status": "passed",
              "duration": 14374
            },
            "embeddings": [
              {
                "data": "Q3VzdG9tZXIgaGFzIGV4aXN0aW5nIG9yZGVycyBpbiBEeW5hbW9EQg==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 24,
            "name": "I have an order with status \"shipped\"",
            "match": {
              "location": "step-definitions/order-management.steps.ts:23"
            },
            "result": {
              "status": "passed",
              "duration": 31749
            },
            "embeddings": [
              {
                "data": "T3JkZXIgd2l0aCBzdGF0dXM6IHNoaXBwZWQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 25,
            "name": "I view the order details",
            "match": {
              "location": "step-definitions/order-management.steps.ts:55"
            },
            "result": {
              "status": "passed",
              "duration": 21166
            },
            "embeddings": [
              {
                "data": "Vmlld2luZyBvcmRlciBkZXRhaWwgcGFnZQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 26,
            "name": "I should see the tracking number",
            "match": {
              "location": "step-definitions/order-management.steps.ts:101"
            },
            "result": {
              "status": "passed",
              "duration": 85750
            },
            "embeddings": [
              {
                "data": "VHJhY2tpbmcgbnVtYmVyIGRpc3BsYXllZA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 27,
            "name": "I should see the status timeline showing \"paid  processing  shipped\"",
            "match": {
              "location": "step-definitions/order-management.steps.ts:105"
            },
            "result": {
              "status": "passed",
              "duration": 65083
            },
            "embeddings": [
              {
                "data": "U3RhdHVzIHRpbWVsaW5lOiBwYWlkIOKGkiBwcm9jZXNzaW5nIOKGkiBzaGlwcGVk",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-order-history;empty-order-history",
        "keyword": "Scenario",
        "line": 29,
        "name": "Empty order history",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 27665
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "I have placed orders in the past",
            "match": {
              "location": "step-definitions/order-management.steps.ts:9"
            },
            "result": {
              "status": "passed",
              "duration": 18416
            },
            "embeddings": [
              {
                "data": "Q3VzdG9tZXIgaGFzIGV4aXN0aW5nIG9yZGVycyBpbiBEeW5hbW9EQg==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 30,
            "name": "I have no previous orders",
            "match": {
              "location": "step-definitions/order-management.steps.ts:30"
            },
            "result": {
              "status": "passed",
              "duration": 26625
            },
            "embeddings": [
              {
                "data": "Tm8gb3JkZXJzIGluIER5bmFtb0RCIGZvciB0aGlzIHVzZXI=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 31,
            "name": "I navigate to the order history page",
            "match": {
              "location": "step-definitions/order-management.steps.ts:41"
            },
            "result": {
              "status": "passed",
              "duration": 14750
            },
            "embeddings": [
              {
                "data": "TmF2aWdhdGluZyB0byAvb3JkZXJz",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 32,
            "name": "I should see \"No orders yet\"",
            "match": {
              "location": "step-definitions/shared.steps.ts:731"
            },
            "result": {
              "status": "passed",
              "duration": 32042
            },
            "embeddings": [
              {
                "data": "RGlzcGxheWVkOiBubyBvcmRlcnMgeWV0",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 33,
            "name": "I should see a link to browse products",
            "match": {
              "location": "step-definitions/order-management.steps.ts:112"
            },
            "result": {
              "status": "passed",
              "duration": 25583
            },
            "embeddings": [
              {
                "data": "TGluayB0byAvcHJvZHVjdHMgZGlzcGxheWVk",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "customer-order-history;order-with-custom-design-shows-design-image",
        "keyword": "Scenario",
        "line": 35,
        "name": "Order with custom design shows design image",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "I am logged in as a customer via Cognito",
            "match": {
              "location": "step-definitions/design-session.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 16875
            },
            "embeddings": [
              {
                "data": "TG9nZ2VkIGluIGFzIGN1c3RvbWVyIHZpYSBDb2duaXRv",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "I have placed orders in the past",
            "match": {
              "location": "step-definitions/order-management.steps.ts:9"
            },
            "result": {
              "status": "passed",
              "duration": 14290
            },
            "embeddings": [
              {
                "data": "Q3VzdG9tZXIgaGFzIGV4aXN0aW5nIG9yZGVycyBpbiBEeW5hbW9EQg==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 36,
            "name": "I have an order containing a custom design item",
            "match": {
              "location": "step-definitions/order-management.steps.ts:34"
            },
            "result": {
              "status": "passed",
              "duration": 17958
            },
            "embeddings": [
              {
                "data": "T3JkZXIgY29udGFpbnMgY3VzdG9tIGRlc2lnbiBpdGVtIHdpdGggUzMgaW1hZ2UgVVJM",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 37,
            "name": "I view the order details",
            "match": {
              "location": "step-definitions/order-management.steps.ts:55"
            },
            "result": {
              "status": "passed",
              "duration": 12958
            },
            "embeddings": [
              {
                "data": "Vmlld2luZyBvcmRlciBkZXRhaWwgcGFnZQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 38,
            "name": "I should see the custom design image from S3",
            "match": {
              "location": "step-definitions/order-management.steps.ts:119"
            },
            "result": {
              "status": "passed",
              "duration": 19291
            },
            "embeddings": [
              {
                "data": "Q3VzdG9tIGRlc2lnbiBpbWFnZSBsb2FkZWQgZnJvbSBTMy9DbG91ZEZyb250",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 39,
            "name": "the item should be labeled as \"Custom Design\"",
            "match": {
              "location": "step-definitions/order-management.steps.ts:126"
            },
            "result": {
              "status": "passed",
              "duration": 33916
            },
            "embeddings": [
              {
                "data": "SXRlbSBsYWJlbGVkOiBDdXN0b20gRGVzaWdu",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      }
    ],
    "id": "customer-order-history",
    "line": 1,
    "keyword": "Feature",
    "name": "Customer Order History",
    "tags": [],
    "uri": "features/functional/orders/order-history.feature"
  },
  {
    "description": "  As a platform operator\n  I need API endpoints to respond quickly\n  So that users have a good experience",
    "elements": [
      {
        "description": "",
        "id": "api-response-time-performance;product-listing-api-responds-within-target-latency",
        "keyword": "Scenario",
        "line": 10,
        "name": "Product listing API responds within target latency",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the EpicWeave AWS serverless stack is deployed",
            "match": {
              "location": "step-definitions/shared.steps.ts:534"
            },
            "result": {
              "status": "passed",
              "duration": 362249
            },
            "embeddings": [
              {
                "data": "QVdTIHN0YWNrIGRlcGxveWVk",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "Lambda functions are warmed up",
            "match": {
              "location": "step-definitions/shared.steps.ts:541"
            },
            "result": {
              "status": "passed",
              "duration": 36458
            },
            "embeddings": [
              {
                "data": "TGFtYmRhIGZ1bmN0aW9ucyB3YXJtZWQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 11,
            "name": "I send GET request to \"/products\"",
            "match": {
              "location": "step-definitions/shared.steps.ts:545"
            },
            "result": {
              "status": "passed",
              "duration": 51000
            },
            "embeddings": [
              {
                "data": "R0VUIC9wcm9kdWN0cw==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 12,
            "name": "the response should complete within 500ms",
            "match": {
              "location": "step-definitions/shared.steps.ts:552"
            },
            "result": {
              "status": "passed",
              "duration": 44208
            },
            "embeddings": [
              {
                "data": "UmVzcG9uc2Ugd2l0aGluIDUwMG1z",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 13,
            "name": "the response should include CloudFront cache headers",
            "match": {
              "location": "step-definitions/shared.steps.ts:559"
            },
            "result": {
              "status": "passed",
              "duration": 23625
            },
            "embeddings": [
              {
                "data": "Q2xvdWRGcm9udCBjYWNoZSBoZWFkZXJzIHByZXNlbnQ=",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "api-response-time-performance;dynamodb-queries-complete-within-target-latency",
        "keyword": "Scenario",
        "line": 15,
        "name": "DynamoDB queries complete within target latency",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the EpicWeave AWS serverless stack is deployed",
            "match": {
              "location": "step-definitions/shared.steps.ts:534"
            },
            "result": {
              "status": "passed",
              "duration": 23458
            },
            "embeddings": [
              {
                "data": "QVdTIHN0YWNrIGRlcGxveWVk",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "Lambda functions are warmed up",
            "match": {
              "location": "step-definitions/shared.steps.ts:541"
            },
            "result": {
              "status": "passed",
              "duration": 15458
            },
            "embeddings": [
              {
                "data": "TGFtYmRhIGZ1bmN0aW9ucyB3YXJtZWQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 16,
            "name": "I query DynamoDB for user cart items",
            "match": {
              "location": "step-definitions/shared.steps.ts:566"
            },
            "result": {
              "status": "passed",
              "duration": 23875
            },
            "embeddings": [
              {
                "data": "UXVlcnlpbmcgRHluYW1vREIgZm9yIGNhcnQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 17,
            "name": "the query should complete within 100ms",
            "match": {
              "location": "step-definitions/shared.steps.ts:573"
            },
            "result": {
              "status": "passed",
              "duration": 125874
            },
            "embeddings": [
              {
                "data": "UXVlcnkgY29tcGxldGVkIHdpdGhpbiAxMDBtcw==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 18,
            "name": "it should use the correct partition key",
            "match": {
              "location": "step-definitions/shared.steps.ts:580"
            },
            "result": {
              "status": "passed",
              "duration": 21332
            },
            "embeddings": [
              {
                "data": "Q29ycmVjdCBwYXJ0aXRpb24ga2V5IHVzZWQ=",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "api-response-time-performance;lambda-cold-start-is-acceptable",
        "keyword": "Scenario",
        "line": 20,
        "name": "Lambda cold start is acceptable",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the EpicWeave AWS serverless stack is deployed",
            "match": {
              "location": "step-definitions/shared.steps.ts:534"
            },
            "result": {
              "status": "passed",
              "duration": 13999
            },
            "embeddings": [
              {
                "data": "QVdTIHN0YWNrIGRlcGxveWVk",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "Lambda functions are warmed up",
            "match": {
              "location": "step-definitions/shared.steps.ts:541"
            },
            "result": {
              "status": "passed",
              "duration": 11875
            },
            "embeddings": [
              {
                "data": "TGFtYmRhIGZ1bmN0aW9ucyB3YXJtZWQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 21,
            "name": "a Lambda function has not been invoked recently",
            "match": {
              "location": "step-definitions/shared.steps.ts:587"
            },
            "result": {
              "status": "passed",
              "duration": 16332
            },
            "embeddings": [
              {
                "data": "Q29sZCBMYW1iZGE=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 22,
            "name": "the function is invoked for the first time",
            "match": {
              "location": "step-definitions/shared.steps.ts:594"
            },
            "result": {
              "status": "passed",
              "duration": 16874
            },
            "embeddings": [
              {
                "data": "Rmlyc3QgaW52b2NhdGlvbiAoY29sZCBzdGFydCk=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 23,
            "name": "the cold start latency should be under 2 seconds",
            "match": {
              "location": "step-definitions/shared.steps.ts:601"
            },
            "result": {
              "status": "passed",
              "duration": 23416
            },
            "embeddings": [
              {
                "data": "Q29sZCBzdGFydCA8IDJz",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 24,
            "name": "subsequent invocations should be under 200ms",
            "match": {
              "location": "step-definitions/shared.steps.ts:608"
            },
            "result": {
              "status": "passed",
              "duration": 20666
            },
            "embeddings": [
              {
                "data": "V2FybSBpbnZvY2F0aW9ucyA8IDIwMG1z",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "api-response-time-performance;cloudfront-serves-static-assets-quickly",
        "keyword": "Scenario",
        "line": 26,
        "name": "CloudFront serves static assets quickly",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the EpicWeave AWS serverless stack is deployed",
            "match": {
              "location": "step-definitions/shared.steps.ts:534"
            },
            "result": {
              "status": "passed",
              "duration": 13625
            },
            "embeddings": [
              {
                "data": "QVdTIHN0YWNrIGRlcGxveWVk",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "Lambda functions are warmed up",
            "match": {
              "location": "step-definitions/shared.steps.ts:541"
            },
            "result": {
              "status": "passed",
              "duration": 11750
            },
            "embeddings": [
              {
                "data": "TGFtYmRhIGZ1bmN0aW9ucyB3YXJtZWQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 27,
            "name": "I request a product image from CloudFront",
            "match": {
              "location": "step-definitions/shared.steps.ts:615"
            },
            "result": {
              "status": "passed",
              "duration": 16582
            },
            "embeddings": [
              {
                "data": "UmVxdWVzdGluZyBpbWFnZSBmcm9tIENsb3VkRnJvbnQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 28,
            "name": "the image should be served within 200ms",
            "match": {
              "location": "step-definitions/shared.steps.ts:622"
            },
            "result": {
              "status": "passed",
              "duration": 24124
            },
            "embeddings": [
              {
                "data": "SW1hZ2Ugc2VydmVkIHdpdGhpbiAyMDBtcw==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 29,
            "name": "it should come from the nearest edge location",
            "match": {
              "location": "step-definitions/shared.steps.ts:629"
            },
            "result": {
              "status": "passed",
              "duration": 16582
            },
            "embeddings": [
              {
                "data": "U2VydmVkIGZyb20gbmVhcmVzdCBlZGdl",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "api-response-time-performance;api-gateway-handles-concurrent-requests",
        "keyword": "Scenario",
        "line": 31,
        "name": "API Gateway handles concurrent requests",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the EpicWeave AWS serverless stack is deployed",
            "match": {
              "location": "step-definitions/shared.steps.ts:534"
            },
            "result": {
              "status": "passed",
              "duration": 13166
            },
            "embeddings": [
              {
                "data": "QVdTIHN0YWNrIGRlcGxveWVk",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "Lambda functions are warmed up",
            "match": {
              "location": "step-definitions/shared.steps.ts:541"
            },
            "result": {
              "status": "passed",
              "duration": 11708
            },
            "embeddings": [
              {
                "data": "TGFtYmRhIGZ1bmN0aW9ucyB3YXJtZWQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 32,
            "name": "100 concurrent requests hit \"/products\"",
            "match": {
              "location": "step-definitions/shared.steps.ts:636"
            },
            "result": {
              "status": "passed",
              "duration": 25249
            },
            "embeddings": [
              {
                "data": "MTAwIGNvbmN1cnJlbnQgcmVxdWVzdHMgdG8gL3Byb2R1Y3Rz",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 33,
            "name": "all requests should complete successfully",
            "match": {
              "location": "step-definitions/shared.steps.ts:643"
            },
            "result": {
              "status": "passed",
              "duration": 15583
            },
            "embeddings": [
              {
                "data": "QWxsIHJlcXVlc3RzIHN1Y2NlZWRlZA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 34,
            "name": "the P95 latency should be under 500ms",
            "match": {
              "location": "step-definitions/shared.steps.ts:650"
            },
            "result": {
              "status": "passed",
              "duration": 19999
            },
            "embeddings": [
              {
                "data": "UDk1IDwgNTAwbXM=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 35,
            "name": "no requests should be throttled",
            "match": {
              "location": "step-definitions/shared.steps.ts:657"
            },
            "result": {
              "status": "passed",
              "duration": 17624
            },
            "embeddings": [
              {
                "data": "Tm8gdGhyb3R0bGluZw==",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      }
    ],
    "id": "api-response-time-performance",
    "line": 1,
    "keyword": "Feature",
    "name": "API Response Time Performance",
    "tags": [],
    "uri": "features/non-functional/performance/api-response-time.feature"
  },
  {
    "description": "  As a platform operator\n  I need the system to handle high concurrent load\n  So that users have a reliable experience during peak traffic",
    "elements": [
      {
        "description": "",
        "id": "load-testing;500-concurrent-users-browsing-products",
        "keyword": "Scenario",
        "line": 10,
        "name": "500 concurrent users browsing products",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the EpicWeave AWS serverless stack is deployed",
            "match": {
              "location": "step-definitions/shared.steps.ts:534"
            },
            "result": {
              "status": "passed",
              "duration": 13999
            },
            "embeddings": [
              {
                "data": "QVdTIHN0YWNrIGRlcGxveWVk",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "Lambda functions are warmed up",
            "match": {
              "location": "step-definitions/shared.steps.ts:541"
            },
            "result": {
              "status": "passed",
              "duration": 12083
            },
            "embeddings": [
              {
                "data": "TGFtYmRhIGZ1bmN0aW9ucyB3YXJtZWQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 11,
            "name": "500 concurrent users request the product catalog",
            "match": {
              "location": "step-definitions/load-testing.steps.ts:9"
            },
            "result": {
              "status": "passed",
              "duration": 31250
            },
            "embeddings": [
              {
                "data": "NTAwIGNvbmN1cnJlbnQgdXNlcnMgcmVxdWVzdGluZyBwcm9kdWN0IGNhdGFsb2c=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 12,
            "name": "all requests should complete within 2 seconds",
            "match": {
              "location": "step-definitions/load-testing.steps.ts:13"
            },
            "result": {
              "status": "passed",
              "duration": 19500
            },
            "embeddings": [
              {
                "data": "QWxsIHJlcXVlc3RzIGNvbXBsZXRlZCB3aXRoaW4gMnM=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 13,
            "name": "the error rate should be below 1 percent",
            "match": {
              "location": "step-definitions/load-testing.steps.ts:17"
            },
            "result": {
              "status": "passed",
              "duration": 26124
            },
            "embeddings": [
              {
                "data": "RXJyb3IgcmF0ZSBiZWxvdyAxJQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 14,
            "name": "no Lambda throttling should occur",
            "match": {
              "location": "step-definitions/load-testing.steps.ts:21"
            },
            "result": {
              "status": "passed",
              "duration": 16541
            },
            "embeddings": [
              {
                "data": "Tm8gTGFtYmRhIHRocm90dGxpbmcgZGV0ZWN0ZWQ=",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "load-testing;50-tps-checkout-throughput",
        "keyword": "Scenario",
        "line": 16,
        "name": "50 TPS checkout throughput",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the EpicWeave AWS serverless stack is deployed",
            "match": {
              "location": "step-definitions/shared.steps.ts:534"
            },
            "result": {
              "status": "passed",
              "duration": 15209
            },
            "embeddings": [
              {
                "data": "QVdTIHN0YWNrIGRlcGxveWVk",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "Lambda functions are warmed up",
            "match": {
              "location": "step-definitions/shared.steps.ts:541"
            },
            "result": {
              "status": "passed",
              "duration": 12625
            },
            "embeddings": [
              {
                "data": "TGFtYmRhIGZ1bmN0aW9ucyB3YXJtZWQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 17,
            "name": "50 transactions per second hit the checkout endpoint",
            "match": {
              "location": "step-definitions/load-testing.steps.ts:25"
            },
            "result": {
              "status": "passed",
              "duration": 22833
            },
            "embeddings": [
              {
                "data": "NTAgVFBTIGhpdHRpbmcgY2hlY2tvdXQgZW5kcG9pbnQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 18,
            "name": "all transactions should complete within 5 seconds",
            "match": {
              "location": "step-definitions/load-testing.steps.ts:29"
            },
            "result": {
              "status": "passed",
              "duration": 22541
            },
            "embeddings": [
              {
                "data": "QWxsIHRyYW5zYWN0aW9ucyBjb21wbGV0ZWQgd2l0aGluIDVz",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 19,
            "name": "the DynamoDB consumed capacity should remain within provisioned limits",
            "match": {
              "location": "step-definitions/load-testing.steps.ts:33"
            },
            "result": {
              "status": "passed",
              "duration": 16541
            },
            "embeddings": [
              {
                "data": "RHluYW1vREIgY2FwYWNpdHkgd2l0aGluIGxpbWl0cw==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 20,
            "name": "no orders should be lost or duplicated",
            "match": {
              "location": "step-definitions/load-testing.steps.ts:37"
            },
            "result": {
              "status": "passed",
              "duration": 15708
            },
            "embeddings": [
              {
                "data": "Tm8gb3JkZXJzIGxvc3Qgb3IgZHVwbGljYXRlZA==",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "load-testing;sqs-queue-handles-ai-generation-load",
        "keyword": "Scenario",
        "line": 22,
        "name": "SQS queue handles AI generation load",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the EpicWeave AWS serverless stack is deployed",
            "match": {
              "location": "step-definitions/shared.steps.ts:534"
            },
            "result": {
              "status": "passed",
              "duration": 12875
            },
            "embeddings": [
              {
                "data": "QVdTIHN0YWNrIGRlcGxveWVk",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "Lambda functions are warmed up",
            "match": {
              "location": "step-definitions/shared.steps.ts:541"
            },
            "result": {
              "status": "passed",
              "duration": 11667
            },
            "embeddings": [
              {
                "data": "TGFtYmRhIGZ1bmN0aW9ucyB3YXJtZWQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 23,
            "name": "200 concurrent AI design generation requests are queued",
            "match": {
              "location": "step-definitions/load-testing.steps.ts:41"
            },
            "result": {
              "status": "passed",
              "duration": 23416
            },
            "embeddings": [
              {
                "data": "MjAwIEFJIGdlbmVyYXRpb24gcmVxdWVzdHMgcXVldWVk",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 24,
            "name": "the SQS queue depth should increase gracefully",
            "match": {
              "location": "step-definitions/load-testing.steps.ts:45"
            },
            "result": {
              "status": "passed",
              "duration": 15999
            },
            "embeddings": [
              {
                "data": "U1FTIHF1ZXVlIGRlcHRoIGluY3JlYXNpbmcgZ3JhY2VmdWxseQ==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 25,
            "name": "the dead letter queue should remain empty",
            "match": {
              "location": "step-definitions/load-testing.steps.ts:49"
            },
            "result": {
              "status": "passed",
              "duration": 15749
            },
            "embeddings": [
              {
                "data": "RExRIHJlbWFpbnMgZW1wdHk=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 26,
            "name": "all messages should be processed within 10 minutes",
            "match": {
              "location": "step-definitions/load-testing.steps.ts:53"
            },
            "result": {
              "status": "passed",
              "duration": 19457
            },
            "embeddings": [
              {
                "data": "QWxsIG1lc3NhZ2VzIHByb2Nlc3NlZCB3aXRoaW4gMTAgbWludXRlcw==",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "load-testing;dynamodb-handles-concurrent-writes",
        "keyword": "Scenario",
        "line": 28,
        "name": "DynamoDB handles concurrent writes",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the EpicWeave AWS serverless stack is deployed",
            "match": {
              "location": "step-definitions/shared.steps.ts:534"
            },
            "result": {
              "status": "passed",
              "duration": 12917
            },
            "embeddings": [
              {
                "data": "QVdTIHN0YWNrIGRlcGxveWVk",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "Lambda functions are warmed up",
            "match": {
              "location": "step-definitions/shared.steps.ts:541"
            },
            "result": {
              "status": "passed",
              "duration": 11791
            },
            "embeddings": [
              {
                "data": "TGFtYmRhIGZ1bmN0aW9ucyB3YXJtZWQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 29,
            "name": "100 concurrent cart add operations occur",
            "match": {
              "location": "step-definitions/load-testing.steps.ts:57"
            },
            "result": {
              "status": "passed",
              "duration": 22250
            },
            "embeddings": [
              {
                "data": "MTAwIGNvbmN1cnJlbnQgY2FydCBhZGQgb3BlcmF0aW9ucw==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 30,
            "name": "all operations should succeed without conflicts",
            "match": {
              "location": "step-definitions/load-testing.steps.ts:61"
            },
            "result": {
              "status": "passed",
              "duration": 15957
            },
            "embeddings": [
              {
                "data": "QWxsIGNhcnQgb3BlcmF0aW9ucyBzdWNjZWVkZWQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 31,
            "name": "DynamoDB conditional check failures should be retried",
            "match": {
              "location": "step-definitions/load-testing.steps.ts:65"
            },
            "result": {
              "status": "passed",
              "duration": 16582
            },
            "embeddings": [
              {
                "data": "Q29uZGl0aW9uYWwgY2hlY2sgZmFpbHVyZXMgcmV0cmllZA==",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "load-testing;cloudfront-caches-static-assets-under-load",
        "keyword": "Scenario",
        "line": 33,
        "name": "CloudFront caches static assets under load",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the EpicWeave AWS serverless stack is deployed",
            "match": {
              "location": "step-definitions/shared.steps.ts:534"
            },
            "result": {
              "status": "passed",
              "duration": 12292
            },
            "embeddings": [
              {
                "data": "QVdTIHN0YWNrIGRlcGxveWVk",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "Lambda functions are warmed up",
            "match": {
              "location": "step-definitions/shared.steps.ts:541"
            },
            "result": {
              "status": "passed",
              "duration": 12084
            },
            "embeddings": [
              {
                "data": "TGFtYmRhIGZ1bmN0aW9ucyB3YXJtZWQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 34,
            "name": "1000 concurrent requests hit product images",
            "match": {
              "location": "step-definitions/load-testing.steps.ts:69"
            },
            "result": {
              "status": "passed",
              "duration": 26124
            },
            "embeddings": [
              {
                "data": "MTAwMCBjb25jdXJyZW50IHJlcXVlc3RzIGZvciBwcm9kdWN0IGltYWdlcw==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 35,
            "name": "the CloudFront cache hit ratio should be above 90 percent",
            "match": {
              "location": "step-definitions/load-testing.steps.ts:73"
            },
            "result": {
              "status": "passed",
              "duration": 19542
            },
            "embeddings": [
              {
                "data": "Q2xvdWRGcm9udCBjYWNoZSBoaXQgcmF0aW8gPiA5MCU=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 36,
            "name": "origin requests should remain minimal",
            "match": {
              "location": "step-definitions/load-testing.steps.ts:77"
            },
            "result": {
              "status": "passed",
              "duration": 16208
            },
            "embeddings": [
              {
                "data": "TWluaW1hbCBvcmlnaW4gcmVxdWVzdHM=",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "load-testing;api-gateway-handles-burst-traffic",
        "keyword": "Scenario",
        "line": 38,
        "name": "API Gateway handles burst traffic",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the EpicWeave AWS serverless stack is deployed",
            "match": {
              "location": "step-definitions/shared.steps.ts:534"
            },
            "result": {
              "status": "passed",
              "duration": 14249
            },
            "embeddings": [
              {
                "data": "QVdTIHN0YWNrIGRlcGxveWVk",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "Lambda functions are warmed up",
            "match": {
              "location": "step-definitions/shared.steps.ts:541"
            },
            "result": {
              "status": "passed",
              "duration": 12875
            },
            "embeddings": [
              {
                "data": "TGFtYmRhIGZ1bmN0aW9ucyB3YXJtZWQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 39,
            "name": "a burst of 500 requests hits the API in 1 second",
            "match": {
              "location": "step-definitions/load-testing.steps.ts:81"
            },
            "result": {
              "status": "passed",
              "duration": 88541
            },
            "embeddings": [
              {
                "data": "QnVyc3Qgb2YgNTAwIHJlcXVlc3RzIGluIDFz",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 40,
            "name": "API Gateway should not return 429 errors",
            "match": {
              "location": "step-definitions/load-testing.steps.ts:85"
            },
            "result": {
              "status": "passed",
              "duration": 25917
            },
            "embeddings": [
              {
                "data": "Tm8gNDI5IGVycm9ycyBmcm9tIEFQSSBHYXRld2F5",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 41,
            "name": "the P99 latency should remain under 3 seconds",
            "match": {
              "location": "step-definitions/load-testing.steps.ts:89"
            },
            "result": {
              "status": "passed",
              "duration": 23541
            },
            "embeddings": [
              {
                "data": "UDk5IGxhdGVuY3kgPCAzcw==",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      }
    ],
    "id": "load-testing",
    "line": 1,
    "keyword": "Feature",
    "name": "Load Testing",
    "tags": [],
    "uri": "features/non-functional/performance/load-testing.feature"
  },
  {
    "description": "  As a platform operator\n  I want robust security measures in place\n  So that the platform is protected against common attacks",
    "elements": [
      {
        "description": "",
        "id": "security-hardening;waf-blocks-sql-injection-attempts",
        "keyword": "Scenario",
        "line": 6,
        "name": "WAF blocks SQL injection attempts",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the AWS WAF is configured on API Gateway",
            "match": {
              "location": "step-definitions/security.steps.ts:9"
            },
            "result": {
              "status": "passed",
              "duration": 23334
            },
            "embeddings": [
              {
                "data": "V0FGIGNvbmZpZ3VyZWQgb24gQVBJIEdhdGV3YXk=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 8,
            "name": "a request containing SQL injection payload is sent",
            "match": {
              "location": "step-definitions/security.steps.ts:13"
            },
            "result": {
              "status": "passed",
              "duration": 17791
            },
            "embeddings": [
              {
                "data": "U2VuZGluZyBTUUwgaW5qZWN0aW9uIHBheWxvYWQ6IFNFTEVDVCAqIEZST00gdXNlcnM=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 9,
            "name": "the WAF should block the request",
            "match": {
              "location": "step-definitions/security.steps.ts:21"
            },
            "result": {
              "status": "passed",
              "duration": 17832
            },
            "embeddings": [
              {
                "data": "V0FGIGJsb2NrZWQgdGhlIG1hbGljaW91cyByZXF1ZXN0",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 10,
            "name": "return a 403 Forbidden response",
            "match": {
              "location": "step-definitions/security.steps.ts:25"
            },
            "result": {
              "status": "passed",
              "duration": 17291
            },
            "embeddings": [
              {
                "data": "UmVjZWl2ZWQgNDAzIEZvcmJpZGRlbg==",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "security-hardening;waf-blocks-xss-attempts",
        "keyword": "Scenario",
        "line": 12,
        "name": "WAF blocks XSS attempts",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 13,
            "name": "the AWS WAF is configured on API Gateway",
            "match": {
              "location": "step-definitions/security.steps.ts:9"
            },
            "result": {
              "status": "passed",
              "duration": 28958
            },
            "embeddings": [
              {
                "data": "V0FGIGNvbmZpZ3VyZWQgb24gQVBJIEdhdGV3YXk=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 14,
            "name": "a request containing XSS script tags is sent",
            "match": {
              "location": "step-definitions/security.steps.ts:17"
            },
            "result": {
              "status": "passed",
              "duration": 81458
            },
            "embeddings": [
              {
                "data": "U2VuZGluZyBYU1MgcGF5bG9hZDogPHNjcmlwdD5hbGVydCgxKTwvc2NyaXB0Pg==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 15,
            "name": "the WAF should block the request",
            "match": {
              "location": "step-definitions/security.steps.ts:21"
            },
            "result": {
              "status": "passed",
              "duration": 15083
            },
            "embeddings": [
              {
                "data": "V0FGIGJsb2NrZWQgdGhlIG1hbGljaW91cyByZXF1ZXN0",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 16,
            "name": "return a 403 Forbidden response",
            "match": {
              "location": "step-definitions/security.steps.ts:25"
            },
            "result": {
              "status": "passed",
              "duration": 27832
            },
            "embeddings": [
              {
                "data": "UmVjZWl2ZWQgNDAzIEZvcmJpZGRlbg==",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "security-hardening;waf-rate-limiting-prevents-abuse",
        "keyword": "Scenario",
        "line": 18,
        "name": "WAF rate limiting prevents abuse",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 19,
            "name": "the AWS WAF rate limiting rule is active",
            "match": {
              "location": "step-definitions/security.steps.ts:29"
            },
            "result": {
              "status": "passed",
              "duration": 46875
            },
            "embeddings": [
              {
                "data": "V0FGIHJhdGUgbGltaXRpbmcgcnVsZSBhY3RpdmU=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 20,
            "name": "more than 1000 requests are sent from one IP in 5 minutes",
            "match": {
              "location": "step-definitions/security.steps.ts:33"
            },
            "result": {
              "status": "passed",
              "duration": 40959
            },
            "embeddings": [
              {
                "data": "U2VuZGluZyAxMDAwIHJlcXVlc3RzIGluIDUgbWludXRlcyBmcm9tIHNpbmdsZSBJUA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 21,
            "name": "subsequent requests should be blocked",
            "match": {
              "location": "step-definitions/security.steps.ts:37"
            },
            "result": {
              "status": "passed",
              "duration": 22583
            },
            "embeddings": [
              {
                "data": "U3Vic2VxdWVudCByZXF1ZXN0cyBibG9ja2VkIGJ5IHJhdGUgbGltaXRlcg==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 22,
            "name": "a 429 Too Many Requests response should be returned",
            "match": {
              "location": "step-definitions/security.steps.ts:41"
            },
            "result": {
              "status": "passed",
              "duration": 19208
            },
            "embeddings": [
              {
                "data": "UmVjZWl2ZWQgNDI5IFRvbyBNYW55IFJlcXVlc3Rz",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "security-hardening;cognito-advanced-security-detects-compromised-credentials",
        "keyword": "Scenario",
        "line": 24,
        "name": "Cognito advanced security detects compromised credentials",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 25,
            "name": "Cognito advanced security is enabled",
            "match": {
              "location": "step-definitions/security.steps.ts:45"
            },
            "result": {
              "status": "passed",
              "duration": 26542
            },
            "embeddings": [
              {
                "data": "Q29nbml0byBhZHZhbmNlZCBzZWN1cml0eSBlbmFibGVk",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 26,
            "name": "a login attempt uses known compromised credentials",
            "match": {
              "location": "step-definitions/security.steps.ts:49"
            },
            "result": {
              "status": "passed",
              "duration": 1530790
            },
            "embeddings": [
              {
                "data": "TG9naW4gd2l0aCBjb21wcm9taXNlZCBjcmVkZW50aWFscw==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 27,
            "name": "the login should be blocked or challenged",
            "match": {
              "location": "step-definitions/security.steps.ts:53"
            },
            "result": {
              "status": "passed",
              "duration": 76249
            },
            "embeddings": [
              {
                "data": "TG9naW4gYmxvY2tlZCBvciBNRkEgY2hhbGxlbmdlZA==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 28,
            "name": "an admin notification should be triggered",
            "match": {
              "location": "step-definitions/security.steps.ts:57"
            },
            "result": {
              "status": "passed",
              "duration": 22457
            },
            "embeddings": [
              {
                "data": "QWRtaW4gbm90aWZpZWQgb2Ygc2VjdXJpdHkgZXZlbnQ=",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "security-hardening;input-sanitization-on-product-search",
        "keyword": "Scenario",
        "line": 30,
        "name": "Input sanitization on product search",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 31,
            "name": "the catalog search endpoint is available",
            "match": {
              "location": "step-definitions/security.steps.ts:61"
            },
            "result": {
              "status": "passed",
              "duration": 23125
            },
            "embeddings": [
              {
                "data": "Q2F0YWxvZyBzZWFyY2ggZW5kcG9pbnQgYXZhaWxhYmxl",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 32,
            "name": "I search with a payload containing script tags",
            "match": {
              "location": "step-definitions/security.steps.ts:65"
            },
            "result": {
              "status": "passed",
              "duration": 17416
            },
            "embeddings": [
              {
                "data": "U2VhcmNoIHdpdGggWFNTIHBheWxvYWQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 33,
            "name": "the input should be sanitized before processing",
            "match": {
              "location": "step-definitions/security.steps.ts:69"
            },
            "result": {
              "status": "passed",
              "duration": 21791
            },
            "embeddings": [
              {
                "data": "SW5wdXQgc2FuaXRpemVk",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 34,
            "name": "the response should not reflect unsanitized input",
            "match": {
              "location": "step-definitions/security.steps.ts:73"
            },
            "result": {
              "status": "passed",
              "duration": 17333
            },
            "embeddings": [
              {
                "data": "Tm8gcmVmbGVjdGVkIFhTUyBpbiByZXNwb25zZQ==",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "security-hardening;api-gateway-validates-request-body-schema",
        "keyword": "Scenario",
        "line": 36,
        "name": "API Gateway validates request body schema",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 37,
            "name": "the API Gateway request validation is enabled",
            "match": {
              "location": "step-definitions/security.steps.ts:77"
            },
            "result": {
              "status": "passed",
              "duration": 18750
            },
            "embeddings": [
              {
                "data": "QVBJIEdhdGV3YXkgcmVxdWVzdCB2YWxpZGF0aW9uIGVuYWJsZWQ=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 38,
            "name": "a request with invalid JSON schema is sent to a POST endpoint",
            "match": {
              "location": "step-definitions/security.steps.ts:81"
            },
            "result": {
              "status": "passed",
              "duration": 16124
            },
            "embeddings": [
              {
                "data": "U2VuZGluZyBpbnZhbGlkIEpTT04gc2NoZW1h",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 39,
            "name": "the request should be rejected with 400 Bad Request",
            "match": {
              "location": "step-definitions/security.steps.ts:85"
            },
            "result": {
              "status": "passed",
              "duration": 16375
            },
            "embeddings": [
              {
                "data": "UmVqZWN0ZWQgd2l0aCA0MDAgQmFkIFJlcXVlc3Q=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 40,
            "name": "the error should describe the validation failure",
            "match": {
              "location": "step-definitions/security.steps.ts:89"
            },
            "result": {
              "status": "passed",
              "duration": 16125
            },
            "embeddings": [
              {
                "data": "VmFsaWRhdGlvbiBlcnJvciBtZXNzYWdlIHJldHVybmVk",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "security-hardening;cors-policy-restricts-origins",
        "keyword": "Scenario",
        "line": 42,
        "name": "CORS policy restricts origins",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 43,
            "name": "CORS is configured on API Gateway",
            "match": {
              "location": "step-definitions/security.steps.ts:93"
            },
            "result": {
              "status": "passed",
              "duration": 16292
            },
            "embeddings": [
              {
                "data": "Q09SUyBjb25maWd1cmVkIG9uIEFQSSBHYXRld2F5",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 44,
            "name": "a request comes from an unauthorized origin",
            "match": {
              "location": "step-definitions/security.steps.ts:97"
            },
            "result": {
              "status": "passed",
              "duration": 17333
            },
            "embeddings": [
              {
                "data": "UmVxdWVzdCBmcm9tIHVuYXV0aG9yaXplZCBvcmlnaW46IGV2aWwuY29t",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 45,
            "name": "the preflight response should not include Access-Control-Allow-Origin",
            "match": {
              "location": "step-definitions/security.steps.ts:101"
            },
            "result": {
              "status": "passed",
              "duration": 16375
            },
            "embeddings": [
              {
                "data": "Tm8gQUNBTyBoZWFkZXIgZm9yIHVuYXV0aG9yaXplZCBvcmlnaW4=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 46,
            "name": "the request should be rejected",
            "match": {
              "location": "step-definitions/security.steps.ts:105"
            },
            "result": {
              "status": "passed",
              "duration": 21290
            },
            "embeddings": [
              {
                "data": "UmVxdWVzdCByZWplY3RlZCBieSBDT1JTIHBvbGljeQ==",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "security-hardening;sensitive-headers-are-not-exposed",
        "keyword": "Scenario",
        "line": 48,
        "name": "Sensitive headers are not exposed",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 49,
            "name": "the API is serving responses",
            "match": {
              "location": "step-definitions/security.steps.ts:109"
            },
            "result": {
              "status": "passed",
              "duration": 18624
            },
            "embeddings": [
              {
                "data": "QVBJIHNlcnZpbmcgcmVzcG9uc2Vz",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 50,
            "name": "I inspect the response headers",
            "match": {
              "location": "step-definitions/security.steps.ts:113"
            },
            "result": {
              "status": "passed",
              "duration": 15832
            },
            "embeddings": [
              {
                "data": "SW5zcGVjdGluZyByZXNwb25zZSBoZWFkZXJz",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 51,
            "name": "server version headers should not be present",
            "match": {
              "location": "step-definitions/security.steps.ts:117"
            },
            "result": {
              "status": "passed",
              "duration": 18665
            },
            "embeddings": [
              {
                "data": "Tm8gc2VydmVyIHZlcnNpb24gaGVhZGVycyAoWC1Qb3dlcmVkLUJ5LCBTZXJ2ZXIp",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 52,
            "name": "internal infrastructure details should not leak",
            "match": {
              "location": "step-definitions/security.steps.ts:121"
            },
            "result": {
              "status": "passed",
              "duration": 16291
            },
            "embeddings": [
              {
                "data": "Tm8gaW50ZXJuYWwgaW5mcmFzdHJ1Y3R1cmUgZGV0YWlscyBpbiBoZWFkZXJz",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "security-hardening;jwt-tokens-are-validated-on-every-request",
        "keyword": "Scenario",
        "line": 54,
        "name": "JWT tokens are validated on every request",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 55,
            "name": "the Cognito authorizer is configured on protected routes",
            "match": {
              "location": "step-definitions/security.steps.ts:125"
            },
            "result": {
              "status": "passed",
              "duration": 18958
            },
            "embeddings": [
              {
                "data": "Q29nbml0byBhdXRob3JpemVyIG9uIHByb3RlY3RlZCByb3V0ZXM=",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 56,
            "name": "a request is made without a valid JWT token",
            "match": {
              "location": "step-definitions/security.steps.ts:129"
            },
            "result": {
              "status": "passed",
              "duration": 15165
            },
            "embeddings": [
              {
                "data": "UmVxdWVzdCB3aXRob3V0IEpXVCB0b2tlbg==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 57,
            "name": "the request should receive a 401 Unauthorized response",
            "match": {
              "location": "step-definitions/security.steps.ts:133"
            },
            "result": {
              "status": "passed",
              "duration": 15833
            },
            "embeddings": [
              {
                "data": "UmVjZWl2ZWQgNDAxIFVuYXV0aG9yaXplZA==",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "security-hardening;admin-routes-require-admin-role",
        "keyword": "Scenario",
        "line": 59,
        "name": "Admin routes require admin role",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 60,
            "name": "I am authenticated as a regular customer",
            "match": {
              "location": "step-definitions/security.steps.ts:137"
            },
            "result": {
              "status": "passed",
              "duration": 17457
            },
            "embeddings": [
              {
                "data": "QXV0aGVudGljYXRlZCBhcyByZWd1bGFyIGN1c3RvbWVy",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 61,
            "name": "I try to access an admin-only endpoint",
            "match": {
              "location": "step-definitions/security.steps.ts:141"
            },
            "result": {
              "status": "passed",
              "duration": 141458
            },
            "embeddings": [
              {
                "data": "QWNjZXNzaW5nIGFkbWluIGVuZHBvaW50IGFzIGN1c3RvbWVy",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 62,
            "name": "I should receive a 403 Forbidden response",
            "match": {
              "location": "step-definitions/order-management.steps.ts:391"
            },
            "result": {
              "status": "passed",
              "duration": 36958
            },
            "embeddings": [
              {
                "data": "UmVjZWl2ZWQgNDAzIEZvcmJpZGRlbg==",
                "mime_type": "text/plain"
              }
            ]
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 63,
            "name": "no admin data should be returned",
            "match": {
              "location": "step-definitions/security.steps.ts:145"
            },
            "result": {
              "status": "passed",
              "duration": 23416
            },
            "embeddings": [
              {
                "data": "Tm8gYWRtaW4gZGF0YSBpbiByZXNwb25zZQ==",
                "mime_type": "text/plain"
              }
            ]
          }
        ],
        "tags": [],
        "type": "scenario"
      }
    ],
    "id": "security-hardening",
    "line": 1,
    "keyword": "Feature",
    "name": "Security Hardening",
    "tags": [],
    "uri": "features/non-functional/security/security-hardening.feature"
  }
]